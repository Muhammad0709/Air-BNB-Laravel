import{b as W,r,j as e,a as i}from"./app-CshQHvoQ.js";import{H as y}from"./HostLayout-Bs0Pov25.js";import{D as E}from"./DeleteConfirmationDialog-DadbdbER.js";import{A as B}from"./ActionsMenu-CCaSvKRt.js";import{T as P}from"./Toast-CSz1dMyW.js";import{S as I}from"./Search-BY5zTcgc.js";import{R,C as k}from"./Row-C5SUOQ6D.js";import{C as L,a as O}from"./CardContent-BSJARNOA.js";import{S as d,B as $}from"./Stack-CAsQuehU.js";import{T as h,B as z}from"./Box-DVCHXNWp.js";import{T as H}from"./TextField-aFRT8OcK.js";import{I as M}from"./InputAdornment-B95WK0lh.js";import{T as _,a as G,b as N,c as x,d as s,e as V}from"./TableRow-B-13Q1vm.js";import{C as K}from"./Chip-1_V3vBkV.js";/* empty css            */import"./KeyboardArrowDown-DZfY7zsm.js";import"./MenuItem-CXWZNhxe.js";import"./Logout-BqnYrbgZ.js";import"./Hotel-DnwjP3cQ.js";import"./Message-BQZisnmn.js";import"./use-language-DEA0B3GS.js";import"./Container-B4HNsH9A.js";import"./DialogTitle-Bf3KCtvy.js";import"./MoreVert-B44Pf2Ci.js";import"./Edit-DBhGOSnc.js";import"./Delete-mtpXMNXf.js";import"./Visibility-DEIf-q5b.js";import"./CheckCircle-DdUDl4QP.js";import"./Close-DNE4SAkV.js";import"./Snackbar-QBAx_-dD.js";import"./useFormControl-BbhxE_0w.js";const m="/images/popular-stay-1.svg";function Fe(){const{properties:w,filters:v,statusOptions:U,approvalStatusOptions:X,flash:o}=W().props,[u,S]=r.useState(v.search||""),[b,n]=r.useState(!1),[f,a]=r.useState(null),[l,c]=r.useState({open:!1,message:"",severity:"success"});r.useEffect(()=>{o?.success&&c({open:!0,message:o.success,severity:"success"}),o?.error&&c({open:!0,message:o.error,severity:"error"})},[o?.success,o?.error]);const C=()=>{i.get("/host/properties",{search:u},{preserveState:!0})},g=w.data,j=t=>{switch(t){case"Approved":return"#10B981";case"Rejected":return"#EF4444";case"Pending":return"#F59E0B";default:return"#6B7280"}},T=t=>{a(t),n(!0)},A=()=>{f&&i.delete(`/host/properties/${f.id}`,{onSuccess:()=>{n(!1),a(null)}})},F=()=>{n(!1),a(null)};return e.jsxs(y,{title:"Manage Properties",children:[e.jsx(R,{children:e.jsx(k,{xs:12,children:e.jsx(L,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:"16px"},children:e.jsxs(O,{children:[e.jsxs(d,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(h,{variant:"h6",sx:{fontWeight:700,color:"#111827"},children:"My Properties"}),e.jsxs(d,{direction:{xs:"column",sm:"row"},spacing:2,useFlexGap:!0,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:[e.jsx(H,{value:u,onChange:t=>S(t.target.value),onKeyPress:t=>t.key==="Enter"&&C(),placeholder:"Search properties...",size:"small",sx:{width:{xs:"100%",sm:250}},InputProps:{startAdornment:e.jsx(M,{position:"start",children:e.jsx(I,{fontSize:"small",sx:{color:"#9CA3AF"}})})}}),e.jsx($,{variant:"contained",onClick:()=>i.visit("/host/properties/create"),fullWidth:window.innerWidth<600,sx:{bgcolor:"#AD542D",textTransform:"none",fontWeight:700,"&:hover":{bgcolor:"#78381C"}},children:"Add Property"})]})]}),e.jsx(_,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(G,{sx:{minWidth:800,width:"100%"},children:[e.jsx(N,{children:e.jsxs(x,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(s,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Property"}),e.jsx(s,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Location"}),e.jsx(s,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Price"}),e.jsx(s,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Approval"}),e.jsx(s,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx(V,{children:g.length===0?e.jsx(x,{children:e.jsx(s,{colSpan:5,sx:{textAlign:"center",py:4},children:e.jsx(h,{sx:{color:"#6B7280"},children:"No Property Found"})})}):g.map(t=>e.jsxs(x,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(s,{children:e.jsxs(d,{direction:"row",spacing:2,useFlexGap:!0,alignItems:"center",children:[e.jsx(z,{component:"img",src:t.image||m,alt:t.title,onError:D=>{const p=D.currentTarget;p.src.includes(m)?p.style.display="none":p.src=m},sx:{width:60,height:60,objectFit:"cover",borderRadius:1,bgcolor:"#F3F4F6",flexShrink:0}}),e.jsx(h,{sx:{fontWeight:600,color:"#111827"},children:t.title})]})}),e.jsx(s,{sx:{color:"#6B7280"},children:t.location}),e.jsxs(s,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:["$",t.price,"/night"]}),e.jsx(s,{children:e.jsx(K,{label:t.approval_status,size:"small",sx:{bgcolor:`${j(t.approval_status)}15`,color:j(t.approval_status),fontWeight:600,fontSize:12}})}),e.jsx(s,{children:e.jsx(B,{onView:()=>i.visit(`/host/properties/${t.id}`),onEdit:()=>i.visit(`/host/properties/${t.id}/edit`),onDelete:()=>T({id:t.id,title:t.title}),viewLabel:"View",editLabel:"Edit"})})]},t.id))})]})})]})})})}),e.jsx(E,{open:b,onClose:F,onConfirm:A,title:"Are you sure you want to delete this property?",itemName:"the property"}),e.jsx(P,{open:l.open,onClose:()=>c(t=>({...t,open:!1})),message:l.message,severity:l.severity})]})}export{Fe as default};
