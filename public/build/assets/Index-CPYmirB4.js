import{j as e,r as h,H as k,a as F}from"./app-BZPU0TFF.js";import{H as T}from"./HostLayout-0zmM1SPA.js";import{D as $}from"./DeleteConfirmationDialog-CXjyoejO.js";import{A as P}from"./ActionsMenu-Cy64oQsl.js";import{S as L}from"./Search-DuoEWiNr.js";import{c as R,S as p,B as H}from"./ArrowDropDown-CdXTbv6H.js";import{R as m,C as g}from"./Row-Cvotj-uB.js";import{C as f,a as j}from"./CardContent-B4p7dtsI.js";import{B as z,T as n}from"./use-language-CBvUMsfX.js";import{T as M}from"./TextField-BJkH4-kg.js";import{I as K}from"./InputAdornment-BKwydW9g.js";import{T as O,a as V,b as G,c as b,d as o,e as J}from"./TableRow-DjNM7BuE.js";import{C as N}from"./Chip-Cga-uAjX.js";/* empty css            */import"./Menu-CWbzmUzk.js";import"./BookOnline-B3dxxSnO.js";import"./Hotel-TiQRpwwi.js";import"./Message-Cs-TFami.js";import"./Container-D7o5WA9F.js";import"./DialogTitle-BUJmJR9v.js";import"./MoreVert-CbBXs543.js";import"./Edit-C6QnM-4v.js";import"./Delete-Cvr-9oKP.js";import"./Visibility-BFqaDv6_.js";import"./CheckCircle-Dj2hi7qe.js";const U=R(e.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}));function we(){const[a,w]=h.useState(""),[y,l]=h.useState(!1),[i,c]=h.useState(null),D=[{title:"Total Earnings",value:"$24,560",color:"#10B981",change:"+22% this month"},{title:"Available Balance",value:"$8,450",color:"#4F46E5",change:"Available"}],x=[{id:1,bookingId:"BK-001",guest:"John Doe",property:"Luxury Beachfront Villa",date:"2025-01-15",amount:"$1,495",status:"Paid",payoutDate:"2025-01-20"},{id:2,bookingId:"BK-002",guest:"Jane Smith",property:"Modern Apartment",date:"2025-01-18",amount:"$799",status:"Pending",payoutDate:"-"},{id:3,bookingId:"BK-003",guest:"Mike Johnson",property:"Cozy Studio",date:"2025-01-20",amount:"$625",status:"Paid",payoutDate:"2025-01-25"},{id:4,bookingId:"BK-004",guest:"Sarah Williams",property:"Luxury Beachfront Villa",date:"2025-01-22",amount:"$1,495",status:"Paid",payoutDate:"2025-01-27"},{id:5,bookingId:"BK-005",guest:"David Brown",property:"Modern Apartment",date:"2025-01-25",amount:"$899",status:"Pending",payoutDate:"-"}].filter(t=>t.bookingId.toLowerCase().includes(a.toLowerCase())||t.guest.toLowerCase().includes(a.toLowerCase())||t.property.toLowerCase().includes(a.toLowerCase())),u=t=>{switch(t){case"Paid":case"Completed":return"#10B981";case"Pending":case"Processing":return"#F59E0B";case"Cancelled":return"#EF4444";default:return"#717171"}},C=()=>{const t=["Booking ID","Guest","Property","Date","Amount","Status","Payout Date"],d=x.map(s=>[s.bookingId,s.guest,s.property,s.date,s.amount,s.status,s.payoutDate]),I=[t.join(","),...d.map(s=>s.map(A=>`"${A}"`).join(","))].join(`
`),W=new Blob([I],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),E=URL.createObjectURL(W);r.setAttribute("href",E),r.setAttribute("download",`earnings-${new Date().toISOString().split("T")[0]}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},S=t=>{c(t),l(!0)},v=()=>{i&&(console.log(`Deleting ${i.type}:`,i.id),l(!1),c(null))},B=()=>{l(!1),c(null)};return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Earnings"}),e.jsxs(T,{title:"Earnings",children:[e.jsx(m,{className:"g-3 mb-4",children:D.map((t,d)=>e.jsx(g,{xs:12,sm:6,lg:4,children:e.jsx(f,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:2},children:e.jsxs(j,{children:[e.jsxs(p,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[e.jsx(z,{sx:{width:48,height:48,borderRadius:2,bgcolor:`${t.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(n,{sx:{color:t.color,fontSize:24,fontWeight:700},children:"$"})}),e.jsx(n,{variant:"body2",sx:{color:t.color,fontWeight:600,bgcolor:`${t.color}15`,px:1.5,py:.5,borderRadius:1,fontSize:11},children:t.change})]}),e.jsx(n,{variant:"h5",sx:{fontWeight:800,color:"#222222",mb:.5},children:t.value}),e.jsx(n,{variant:"body2",sx:{color:"#717171"},children:t.title})]})})},d))}),e.jsx(m,{className:"mb-4",children:e.jsx(g,{xs:12,children:e.jsx(f,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:2},children:e.jsxs(j,{children:[e.jsxs(p,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:700,color:"#222222"},children:"Earnings History"}),e.jsxs(p,{direction:{xs:"column",sm:"row"},spacing:2,useFlexGap:!0,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:[e.jsx(M,{value:a,onChange:t=>w(t.target.value),placeholder:"Search earnings...",size:"small",sx:{width:{xs:"100%",sm:250}},InputProps:{startAdornment:e.jsx(K,{position:"start",children:e.jsx(L,{fontSize:"small",sx:{color:"#9CA3AF"}})})}}),e.jsx(H,{variant:"outlined",startIcon:e.jsx(U,{}),onClick:C,fullWidth:window.innerWidth<600,sx:{borderColor:"#D0D5DD",color:"#344054",textTransform:"none",borderRadius:2,"&:hover":{borderColor:"#D0D5DD",bgcolor:"#F9FAFB"}},children:"Export"})]})]}),e.jsx(O,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(V,{sx:{minWidth:800,width:"100%"},children:[e.jsx(G,{children:e.jsxs(b,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Booking ID"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Guest"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Property"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Date"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Amount"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Status"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Payout Date"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx(J,{children:x.map(t=>e.jsxs(b,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(o,{sx:{fontWeight:600,color:"#222222"},children:t.bookingId}),e.jsx(o,{children:t.guest}),e.jsx(o,{children:t.property}),e.jsx(o,{sx:{color:"#717171"},children:t.date}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t.amount}),e.jsx(o,{children:e.jsx(N,{label:t.status,size:"small",sx:{bgcolor:`${u(t.status)}15`,color:u(t.status),fontWeight:600,fontSize:12}})}),e.jsx(o,{sx:{color:"#717171"},children:t.payoutDate}),e.jsx(o,{children:e.jsx(P,{onView:()=>F.visit(`/host/earnings/show/${t.id}`),onDelete:()=>S({id:t.id,type:"earning",identifier:t.bookingId}),viewLabel:"View"})})]},t.id))})]})})]})})})}),e.jsx($,{open:y,onClose:B,onConfirm:v,title:"Are you sure you want to delete this earning?",itemName:i?`earning ${i.identifier}`:"this item"})]})]})}export{we as default};
