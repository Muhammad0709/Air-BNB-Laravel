import{j as e,r as p,H as M,a as m}from"./app-c1lbwSCT.js";import{H as V}from"./HostLayout-B9ovdCuT.js";import{D as K}from"./DeleteConfirmationDialog-ZnbU2Fo4.js";import{A as C}from"./ActionsMenu-C38wwGnB.js";import{S as J}from"./Search-_mYgtpp6.js";import{c as N,S as c,B as D}from"./Stack-BhIDKHQ3.js";import{R as g,C as j}from"./Row-CxAT8yr2.js";import{C as f,a as w}from"./CardContent-CVwSKlKj.js";import{B as q,T as n}from"./Box-g126pR0g.js";import{T as G}from"./TextField-BSuqnz2T.js";import{I as U}from"./InputAdornment-C0OLqIx8.js";import{T as S,a as v,b as W,c as d,d as o,e as I}from"./TableRow-DNsV_ygb.js";import{C as B}from"./Chip-BUPl-9-g.js";/* empty css            */import"./KeyboardArrowDown-eOc2CALv.js";import"./Logout-PM84n4WU.js";import"./Hotel-CcxvR4uK.js";import"./Message-C1SmTjin.js";import"./Container-CnGUZnmA.js";import"./DialogTitle-CLIRgBLc.js";import"./MoreVert-BMCDaBz5.js";import"./Edit-CClUu1Qz.js";import"./Delete-Cau_WtUf.js";import"./Visibility-Dyq3HsAI.js";import"./CheckCircle-YhiUzNwe.js";import"./useFormControl-Yv57CR3t.js";const X=N(e.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}));function Ce(){const[a,P]=p.useState(""),[A,h]=p.useState(!1),[r,x]=p.useState(null),E=[{title:"Total Earnings",value:"$24,560",color:"#10B981",change:"+22% this month"},{title:"Available Balance",value:"$8,450",color:"#4F46E5",change:"Ready to withdraw"},{title:"Pending Payouts",value:"$3,200",color:"#F59E0B",change:"Processing"}],$=[{id:1,bookingId:"BK-001",guest:"John Doe",property:"Luxury Beachfront Villa",date:"2025-01-15",amount:"$1,495",status:"Paid",payoutDate:"2025-01-20"},{id:2,bookingId:"BK-002",guest:"Jane Smith",property:"Modern Apartment",date:"2025-01-18",amount:"$799",status:"Pending",payoutDate:"-"},{id:3,bookingId:"BK-003",guest:"Mike Johnson",property:"Cozy Studio",date:"2025-01-20",amount:"$625",status:"Paid",payoutDate:"2025-01-25"},{id:4,bookingId:"BK-004",guest:"Sarah Williams",property:"Luxury Beachfront Villa",date:"2025-01-22",amount:"$1,495",status:"Paid",payoutDate:"2025-01-27"},{id:5,bookingId:"BK-005",guest:"David Brown",property:"Modern Apartment",date:"2025-01-25",amount:"$899",status:"Pending",payoutDate:"-"}],k=[{id:1,payoutId:"PO-001",amount:"$5,200",date:"2025-01-20",method:"Bank Transfer",status:"Completed",account:"****1234"},{id:2,payoutId:"PO-002",amount:"$3,100",date:"2025-01-15",method:"PayPal",status:"Completed",account:"host@example.com"},{id:3,payoutId:"PO-003",amount:"$2,800",date:"2025-01-10",method:"Bank Transfer",status:"Completed",account:"****1234"},{id:4,payoutId:"PO-004",amount:"$4,500",date:"2025-01-05",method:"PayPal",status:"Completed",account:"host@example.com"}],b=$.filter(t=>t.bookingId.toLowerCase().includes(a.toLowerCase())||t.guest.toLowerCase().includes(a.toLowerCase())||t.property.toLowerCase().includes(a.toLowerCase())),l=t=>{switch(t){case"Paid":case"Completed":return"#10B981";case"Pending":case"Processing":return"#F59E0B";case"Cancelled":return"#EF4444";default:return"#717171"}},F=()=>{const t=["Booking ID","Guest","Property","Date","Amount","Status","Payout Date"],u=b.map(s=>[s.bookingId,s.guest,s.property,s.date,s.amount,s.status,s.payoutDate]),L=[t.join(","),...u.map(s=>s.map(O=>`"${O}"`).join(","))].join(`
`),z=new Blob([L],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),H=URL.createObjectURL(z);i.setAttribute("href",H),i.setAttribute("download",`earnings-${new Date().toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},y=t=>{x(t),h(!0)},T=()=>{r&&(console.log(`Deleting ${r.type}:`,r.id),h(!1),x(null))},R=()=>{h(!1),x(null)};return e.jsxs(e.Fragment,{children:[e.jsx(M,{title:"Earnings / Payouts"}),e.jsxs(V,{title:"Earnings / Payouts",children:[e.jsx(g,{className:"g-3 mb-4",children:E.map((t,u)=>e.jsx(j,{xs:12,sm:6,lg:4,children:e.jsx(f,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:2},children:e.jsxs(w,{children:[e.jsxs(c,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[e.jsx(q,{sx:{width:48,height:48,borderRadius:2,bgcolor:`${t.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(n,{sx:{color:t.color,fontSize:24,fontWeight:700},children:"$"})}),e.jsx(n,{variant:"body2",sx:{color:t.color,fontWeight:600,bgcolor:`${t.color}15`,px:1.5,py:.5,borderRadius:1,fontSize:11},children:t.change})]}),e.jsx(n,{variant:"h5",sx:{fontWeight:800,color:"#222222",mb:.5},children:t.value}),e.jsx(n,{variant:"body2",sx:{color:"#717171"},children:t.title})]})})},u))}),e.jsx(g,{className:"mb-4",children:e.jsx(j,{xs:12,children:e.jsx(f,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:2},children:e.jsxs(w,{children:[e.jsxs(c,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:700,color:"#222222"},children:"Earnings History"}),e.jsxs(c,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:[e.jsx(G,{value:a,onChange:t=>P(t.target.value),placeholder:"Search earnings...",size:"small",sx:{width:{xs:"100%",sm:250}},InputProps:{startAdornment:e.jsx(U,{position:"start",children:e.jsx(J,{fontSize:"small",sx:{color:"#9CA3AF"}})})}}),e.jsx(D,{variant:"outlined",startIcon:e.jsx(X,{}),onClick:F,fullWidth:window.innerWidth<600,sx:{borderColor:"#D0D5DD",color:"#344054",textTransform:"none",borderRadius:2,"&:hover":{borderColor:"#D0D5DD",bgcolor:"#F9FAFB"}},children:"Export"})]})]}),e.jsx(S,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(v,{sx:{minWidth:800,width:"100%"},children:[e.jsx(W,{children:e.jsxs(d,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Booking ID"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Guest"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Property"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Date"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Amount"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Status"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Payout Date"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx(I,{children:b.map(t=>e.jsxs(d,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(o,{sx:{fontWeight:600,color:"#222222"},children:t.bookingId}),e.jsx(o,{children:t.guest}),e.jsx(o,{children:t.property}),e.jsx(o,{sx:{color:"#717171"},children:t.date}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t.amount}),e.jsx(o,{children:e.jsx(B,{label:t.status,size:"small",sx:{bgcolor:`${l(t.status)}15`,color:l(t.status),fontWeight:600,fontSize:12}})}),e.jsx(o,{sx:{color:"#717171"},children:t.payoutDate}),e.jsx(o,{children:e.jsx(C,{onView:()=>m.visit(`/host/earnings/show/${t.id}`),onDelete:()=>y({id:t.id,type:"earning",identifier:t.bookingId}),viewLabel:"View"})})]},t.id))})]})})]})})})}),e.jsx(g,{children:e.jsx(j,{xs:12,children:e.jsx(f,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:2},children:e.jsxs(w,{children:[e.jsxs(c,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:700,color:"#222222"},children:"Payout History"}),e.jsx(D,{variant:"contained",onClick:()=>m.visit("/host/earnings/request-payout"),fullWidth:window.innerWidth<600,sx:{bgcolor:"#AD542D",textTransform:"none",fontWeight:700,"&:hover":{bgcolor:"#78381C"}},children:"Request Payout"})]}),e.jsx(S,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(v,{sx:{minWidth:700,width:"100%"},children:[e.jsx(W,{children:e.jsxs(d,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Payout ID"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Amount"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Date"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Method"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Account"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Status"}),e.jsx(o,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx(I,{children:k.map(t=>e.jsxs(d,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(o,{sx:{fontWeight:600,color:"#222222"},children:t.payoutId}),e.jsx(o,{sx:{fontWeight:700,color:"#222222"},children:t.amount}),e.jsx(o,{sx:{color:"#717171"},children:t.date}),e.jsx(o,{sx:{color:"#717171"},children:t.method}),e.jsx(o,{sx:{color:"#717171"},children:t.account}),e.jsx(o,{children:e.jsx(B,{label:t.status,size:"small",sx:{bgcolor:`${l(t.status)}15`,color:l(t.status),fontWeight:600,fontSize:12}})}),e.jsx(o,{children:e.jsx(C,{onView:()=>m.visit(`/host/earnings/payout/${t.id}`),onDelete:()=>y({id:t.id,type:"payout",identifier:t.payoutId}),viewLabel:"View"})})]},t.id))})]})})]})})})}),e.jsx(K,{open:A,onClose:R,onConfirm:T,title:r?.type==="earning"?"Are you sure you want to delete this earning?":"Are you sure you want to delete this payout?",itemName:r?r.type==="earning"?`earning ${r.identifier}`:`payout ${r.identifier}`:"this item"})]})]})}export{Ce as default};
