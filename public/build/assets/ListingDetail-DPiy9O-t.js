import{j as e,b as de,r as d,H as he,a as U}from"./app-DPMShFNb.js";import{N as xe,F as pe}from"./Footer-Bn8g_YxH.js";import{u as je,B as t,T as a}from"./use-language-CmxA9uZu.js";import{F as ge}from"./FeaturedCard-Cmr_yusb.js";import{L as ue}from"./LocationOn-CRTnct-F.js";import{S as $}from"./Star-D-eghc-Z.js";import{C as fe}from"./CheckCircle-CCVmTUH8.js";import{C as J,a as X}from"./ChevronRight-DqWMPIzB.js";import{B as Ne}from"./Bed-BbYk-eCp.js";import{c as M,P as o,B as p,S as K}from"./ArrowDropDown-Bha2pyt8.js";import{P as ye}from"./People-DtrSF-SV.js";import{H as be}from"./Home-zKQgaORz.js";import{M as De}from"./Message-BadViV_P.js";import{A as Se}from"./AccessTime-C3o_-vg8.js";import{A as Q}from"./AttachMoney-C8N2eoV0.js";import{C as f}from"./Container-5wIIuBmG.js";import{R as h,C as c}from"./Row-BfjExkrK.js";import{F as Z}from"./FormControlLabel-CQ_KkTUt.js";import{C as ee}from"./Checkbox-CL1lsdJS.js";/* empty css            */import"./KeyboardArrowDown-Uk-NVEZQ.js";import"./Close-DgQGqy2A.js";import"./useFormControl-BHnHsWyz.js";const ve=M(e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m2-3H7v-1c0-2.76 2.24-5 5-5s5 2.24 5 5z"})),ke=M(e.jsx("path",{d:"M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 2.59 4.49s7.12-1.9 16.57-4.43c.81-.23 1.28-1.05 1.07-1.85"})),Me=M(e.jsx("path",{d:"M21 4H7V2H5v20h2v-8h14l-2-5zm-6 5c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2"})),_e=M([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),E="/images/popular-stay-1.svg";function se(r){const[i,N,y]=r.split("-").map(Number);return{year:i??new Date().getFullYear(),month:(N??new Date().getMonth()+1)-1,day:y??1}}function Ke(){const{t:r}=je(),{property:i,relatedProperties:N,reviews:y,ratingStats:m,defaultCheckin:P,defaultCheckout:T}=de().props,b=new Date,_=P?se(P):{year:b.getFullYear(),month:b.getMonth(),day:b.getDate()},w=T?se(T):(()=>{const s=new Date(b);return s.setDate(s.getDate()+7),{year:s.getFullYear(),month:s.getMonth(),day:s.getDate()}})(),[j,B]=d.useState(()=>new Date(_.year,_.month,1)),[g,H]=d.useState(()=>new Date(w.year,w.month,1)),[L,te]=d.useState(_.day),[O,ae]=d.useState(w.day),[C,ne]=d.useState(!1),[A,ie]=d.useState(!1),D={airport:"Los Angeles International Airport (LAX)",pickupStartTime:"08:00",pickupEndTime:"22:00",price:"$50"},I={description:"Explore the beautiful city with our expert local guide. Visit historical landmarks, cultural sites, and hidden gems.",duration:"Half Day (4-5 hours)",price:"$75"},z=d.useMemo(()=>Array.isArray(i.images)&&i.images.length>0?i.images:i.image?[i.image]:[E],[i.images,i.image]),S=d.useMemo(()=>{const n=z.slice(0,8),l=n[0]||E;for(;n.length<8;)n.push(l);return n},[z]),R=Math.max(0,z.length-8),W=s=>{const n=s===1?j:g,l=new Date(n);l.setMonth(l.getMonth()-1),s===1?B(l):H(l)},Y=s=>{const n=s===1?j:g,l=new Date(n);l.setMonth(l.getMonth()+1),s===1?B(l):H(l)},q=s=>{const n=s.getFullYear(),l=s.getMonth(),v=new Date(n,l,1).getDay(),k=new Date(n,l+1,0).getDate(),F=new Date(n,l,0).getDate(),u=[];for(let x=v-1;x>=0;x--)u.push({day:F-x,isOtherMonth:!0});for(let x=1;x<=k;x++)u.push({day:x,isOtherMonth:!1});for(;u.length<42;)u.push({day:u.length-k-v+1,isOtherMonth:!0});return u},G=s=>s.toLocaleString("default",{month:"short",year:"numeric"}),le=q(j),re=q(g),ce=()=>{const s=j.getFullYear(),n=j.getMonth(),l=g.getFullYear(),v=g.getMonth(),k=`${s}-${String(n+1).padStart(2,"0")}-${String(L).padStart(2,"0")}`,F=`${l}-${String(v+1).padStart(2,"0")}-${String(O).padStart(2,"0")}`;return{checkin:k,checkout:F}},oe=()=>{const{checkin:s,checkout:n}=ce();return`/booking/redirect?${new URLSearchParams({property_id:String(i.id),checkin:s,checkout:n}).toString()}`},me=typeof i.price=="number"?i.price:Number(i.price)||0,V=i.host?.created_at?new Date(i.host.created_at).getFullYear():"";return e.jsxs(t,{children:[e.jsx(he,{title:i.title||"Property Detail"}),e.jsx(xe,{}),e.jsxs("main",{className:"property-detail-page",children:[e.jsx("section",{className:"property-details-section",children:e.jsx(f,{children:e.jsx(h,{children:e.jsx(c,{lg:12,children:e.jsx(o,{className:"property-info-card",elevation:0,children:e.jsxs(h,{className:"align-items-center",children:[e.jsxs(c,{md:10,children:[e.jsx(a,{className:"property-title",component:"h1",children:i.title}),e.jsxs(t,{className:"property-meta",children:[e.jsxs(t,{className:"location",children:[e.jsx(ue,{sx:{fontSize:16}}),e.jsx("span",{children:i.location})]}),e.jsxs(t,{className:"rating",children:[e.jsx(t,{className:"stars",children:[...Array(5)].map((s,n)=>e.jsx($,{sx:{fontSize:14,color:n<Math.round(m.average)?"#FFD700":"#e9ecef"}},n))}),e.jsxs(a,{className:"rating-text",children:["(",m.total,")"]})]})]})]}),e.jsx(c,{md:2,children:e.jsxs(t,{className:"booking-info",children:[e.jsxs(t,{className:"price",children:[e.jsxs(a,{component:"span",className:"price-amount",children:["$",me]}),e.jsx(a,{component:"span",className:"price-period",children:r("listing_detail.per_night")})]}),e.jsx(p,{variant:"contained",className:"btn-book",onClick:()=>U.visit(oe()),children:r("listing_detail.book")})]})})]})})})})})}),e.jsx("section",{className:"gallery-section",children:e.jsx(f,{children:e.jsxs(t,{className:"gallery-grid-container",children:[e.jsxs(t,{className:"gallery-top-section",children:[e.jsx(t,{className:"gallery-large-item",children:e.jsx("button",{type:"button",className:"gallery-image-button",children:e.jsx("img",{src:S[0],alt:`${i.title} - 1`,className:"gallery-image"})})}),e.jsxs(t,{className:"gallery-right-section",children:[e.jsx(t,{className:"gallery-medium-item",children:e.jsx("button",{type:"button",className:"gallery-image-button",children:e.jsx("img",{src:S[1],alt:`${i.title} - 2`,className:"gallery-image"})})}),e.jsx(t,{className:"gallery-medium-item",children:e.jsx("button",{type:"button",className:"gallery-image-button",children:e.jsx("img",{src:S[2],alt:`${i.title} - 3`,className:"gallery-image"})})})]})]}),e.jsx(t,{className:"gallery-bottom-section",children:S.slice(3,8).map((s,n)=>e.jsx(t,{className:"gallery-small-item",children:e.jsxs("button",{type:"button",className:"gallery-image-button",children:[e.jsx("img",{src:s,alt:`${i.title} - ${n+4}`,className:"gallery-image"}),n===4&&R>0&&e.jsx(t,{className:"gallery-more-overlay",children:e.jsxs(a,{component:"span",children:["+",R," ",r("listing_detail.more_photos")]})})]})},n+3))})]})})}),e.jsx("section",{children:e.jsx(f,{className:"mt-4",children:e.jsxs(o,{className:"quick-info-section",elevation:0,children:[e.jsx(a,{className:"section-title",component:"h2",children:r("listing_detail.quick_info")}),e.jsxs(h,{className:"g-4",children:[e.jsx(c,{md:6,sm:6,children:e.jsxs(t,{className:"info-item d-flex gap-2",children:[e.jsx(t,{className:"info-icon",children:e.jsx(Ne,{sx:{color:"#AD542D",fontSize:"24px",width:"24px",height:"24px",marginInlineEnd:1.5}})}),e.jsxs(t,{className:"info-text",children:[e.jsx(a,{component:"span",className:"info-number",children:i.bedrooms}),e.jsx(a,{component:"span",className:"info-label",children:r("listing_detail.bedrooms")})]})]})}),e.jsx(c,{md:6,sm:6,children:e.jsxs(t,{className:"info-item d-flex gap-2",children:[e.jsx(t,{className:"info-icon",children:e.jsx(ve,{sx:{color:"#AD542D",fontSize:"24px",width:"24px",height:"24px",marginInlineEnd:1.5}})}),e.jsx(a,{component:"span",className:"info-number",children:i.bathrooms}),e.jsx(a,{component:"span",className:"info-label",children:r("listing_detail.bathrooms")})]})})]}),e.jsxs(h,{className:"g-4 mt-2",children:[e.jsx(c,{md:6,sm:6,children:e.jsxs(t,{className:"info-item d-flex gap-2",children:[e.jsx(t,{className:"info-icon",children:e.jsx(ye,{sx:{color:"#AD542D",fontSize:"24px",width:"24px",height:"24px",marginInlineEnd:1.5}})}),e.jsxs(t,{className:"info-text",children:[e.jsx(a,{component:"span",className:"info-number",children:i.guests}),e.jsx(a,{component:"span",className:"info-label",children:r("listing_detail.guests")})]})]})}),e.jsx(c,{md:6,sm:6,children:e.jsxs(t,{className:"info-item d-flex gap-2",children:[e.jsx(t,{className:"info-icon",children:e.jsx(be,{sx:{color:"#AD542D",fontSize:"24px",width:"24px",height:"24px",marginInlineEnd:1.5}})}),e.jsx(a,{component:"span",className:"info-label",children:i.property_type||r("listing_detail.entire_place")})]})})]})]})})}),e.jsx("section",{children:e.jsx(f,{className:"mt-4",children:e.jsx(h,{children:e.jsxs(c,{lg:12,children:[e.jsxs(o,{className:"host-section mt-4",elevation:0,children:[e.jsx(a,{className:"section-title",component:"h2",children:r("listing_detail.about_host")}),e.jsxs(t,{className:"host-info",children:[e.jsx(t,{className:"host-avatar",children:e.jsx("img",{src:i.host?.profile_picture||"/images/popular-stay-1.svg",alt:i.host?.name||"Host",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})}),e.jsxs(t,{className:"host-details",sx:{flex:1},children:[e.jsx(a,{className:"host-name",component:"h5",children:i.host?.name||"Host"}),e.jsx(a,{className:"host-joined",children:V?`${r("listing_detail.joined_in")} ${V}`:""}),e.jsx(p,{variant:"outlined",startIcon:e.jsx(De,{}),onClick:()=>U.visit(`/chat?property_id=${i.id}`),sx:{mt:2,borderColor:"#AD542D",color:"#AD542D",textTransform:"none",fontWeight:600,borderRadius:2,px:3,"&:hover":{borderColor:"#78381C",bgcolor:"#FFF5F7"}},children:r("listing_detail.message")})]})]})]}),e.jsxs(o,{className:"about-section mt-4",elevation:0,children:[e.jsx(a,{className:"section-title",component:"h2",children:r("listing_detail.about_property")}),e.jsx(a,{className:"about-text",children:i.description||r("listing_detail.no_description")})]}),e.jsxs(o,{className:"about-section mt-4",elevation:0,sx:{bgcolor:"#F9FAFB",border:"1px solid #E5E7EB"},children:[e.jsx(a,{className:"section-title",component:"h2",children:r("listing_detail.airport_pickup")}),e.jsxs(t,{sx:{mt:2},children:[e.jsx(Z,{control:e.jsx(ee,{checked:C,onChange:s=>ne(s.target.checked),sx:{color:"#AD542D","&.Mui-checked":{color:"#AD542D"}}}),label:r("listing_detail.pickup_question"),sx:{mb:C?3:0}}),C&&e.jsx(t,{sx:{mt:2},children:e.jsxs(K,{spacing:3,children:[e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(ke,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(t,{children:[e.jsx(a,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Airport"}),e.jsx(a,{sx:{fontWeight:600,color:"#222222"},children:D.airport})]})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(Se,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(t,{children:[e.jsx(a,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Pickup Time"}),e.jsxs(a,{sx:{fontWeight:600,color:"#222222"},children:[D.pickupStartTime," - ",D.pickupEndTime]})]})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(Q,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(t,{children:[e.jsx(a,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Price"}),e.jsx(a,{sx:{fontWeight:600,color:"#222222",fontSize:"1.125rem"},children:D.price})]})]})]})})]})]}),e.jsxs(o,{className:"about-section mt-4",elevation:0,sx:{bgcolor:"#F9FAFB",border:"1px solid #E5E7EB"},children:[e.jsx(a,{className:"section-title",component:"h2",children:r("listing_detail.guided_tours")}),e.jsxs(t,{sx:{mt:2},children:[e.jsx(Z,{control:e.jsx(ee,{checked:A,onChange:s=>ie(s.target.checked),sx:{color:"#AD542D","&.Mui-checked":{color:"#AD542D"}}}),label:r("listing_detail.guided_tours_question"),sx:{mb:A?3:0}}),A&&e.jsx(t,{sx:{mt:2},children:e.jsxs(K,{spacing:3,children:[e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(Me,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(t,{children:[e.jsx(a,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Tour Description"}),e.jsx(a,{sx:{fontWeight:400,color:"#222222",fontSize:"0.9rem"},children:I.description})]})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(_e,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(t,{children:[e.jsx(a,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Duration"}),e.jsx(a,{sx:{fontWeight:600,color:"#222222"},children:I.duration})]})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(Q,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(t,{children:[e.jsx(a,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Price"}),e.jsx(a,{sx:{fontWeight:600,color:"#222222",fontSize:"1.125rem"},children:I.price})]})]})]})})]})]}),e.jsxs(o,{className:"rules-section mt-4",elevation:0,children:[e.jsx(a,{className:"section-title",component:"h2",children:"Roles"}),e.jsx(t,{className:"rules-list",children:["Check-in: 3:00 PM - 10:00 PM","Check-out: 11:00 AM","No parties or events allowed","Pets allowed [with prior notification]","No smoking indoors"].map((s,n)=>e.jsxs(t,{className:"rule-item",children:[e.jsx(fe,{sx:{color:"#28a745",fontSize:16}}),e.jsx(a,{component:"span",children:s})]},n))})]}),e.jsxs(o,{className:"availability-section mt-4",elevation:0,children:[e.jsx(a,{className:"section-title",component:"h2",children:"Availability"}),e.jsxs(h,{children:[e.jsx(c,{md:6,children:e.jsxs(o,{className:"calendar-widget",elevation:0,children:[e.jsxs(t,{className:"calendar-header",children:[e.jsx(p,{size:"small",onClick:()=>W(1),children:e.jsx(J,{})}),e.jsx(a,{component:"span",className:"month-year",children:G(j)}),e.jsx(p,{size:"small",onClick:()=>Y(1),children:e.jsx(X,{})})]}),e.jsxs(t,{className:"calendar-grid",children:[e.jsx(t,{className:"calendar-weekdays",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(s=>e.jsx(t,{children:s},s))}),e.jsx(t,{className:"calendar-days",children:le.slice(0,35).map((s,n)=>e.jsx(t,{className:`day ${s.isOtherMonth?"other-month":""} ${!s.isOtherMonth&&s.day===L?"selected start-range":""}`,onClick:()=>!s.isOtherMonth&&te(s.day),children:s.day},n))})]})]})}),e.jsx(c,{md:6,children:e.jsxs(o,{className:"calendar-widget",elevation:0,children:[e.jsxs(t,{className:"calendar-header",children:[e.jsx(p,{size:"small",onClick:()=>W(2),children:e.jsx(J,{})}),e.jsx(a,{component:"span",className:"month-year",children:G(g)}),e.jsx(p,{size:"small",onClick:()=>Y(2),children:e.jsx(X,{})})]}),e.jsxs(t,{className:"calendar-grid",children:[e.jsx(t,{className:"calendar-weekdays",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(s=>e.jsx(t,{children:s},s))}),e.jsx(t,{className:"calendar-days",children:re.slice(0,35).map((s,n)=>e.jsx(t,{className:`day ${s.isOtherMonth?"other-month":""} ${!s.isOtherMonth&&s.day===O?"selected single":""}`,onClick:()=>!s.isOtherMonth&&ae(s.day),children:s.day},n))})]})]})})]})]}),e.jsxs(t,{className:"reviews-section mt-4",children:[e.jsxs(h,{children:[e.jsxs(a,{className:"reviews-title",component:"h2",children:["Reviews (",m.total,")"]}),e.jsx(c,{lg:8,children:e.jsx(t,{className:"reviews-list",children:y.length>0?y.map(s=>e.jsxs(t,{className:"review-item",children:[e.jsxs(t,{className:"reviewer-info",children:[e.jsx(t,{className:"reviewer-avatar",children:e.jsx("img",{src:s.user?.profile_picture||"/images/popular-stay-1.svg",alt:s.user?.name||"Reviewer"})}),e.jsx(a,{className:"reviewer-name",children:s.user?.name}),e.jsx(a,{className:"review-date",children:s.created_at})]}),e.jsxs(t,{className:"review-content",children:[e.jsx(t,{className:"stars",children:[...Array(5)].map((n,l)=>e.jsx($,{sx:{fontSize:14,color:l<s.rating?"#ffc107":"#e9ecef"}},l))}),e.jsx(a,{className:"review-text",children:s.comment}),e.jsx(a,{className:"helpful-text",children:"Was this review helpful to you?"})]})]},s.id)):e.jsx(a,{sx:{color:"#717171"},children:"No reviews yet."})})}),e.jsx(c,{lg:4,children:e.jsxs(o,{className:"rating-summary",elevation:0,children:[e.jsxs(t,{className:"average-rating",children:[e.jsx(a,{className:"rating-title",children:r("listing_detail.average_rating")}),e.jsxs(a,{className:"rating-score",children:[m.average,"/5"]}),e.jsx(t,{className:"stars",children:[...Array(5)].map((s,n)=>e.jsx($,{sx:{fontSize:16,color:n<Math.round(m.average)?"#ffc107":"#e9ecef"}},n))}),e.jsxs(a,{className:"total-reviews",children:["(",m.total," ",r("listing_detail.reviews"),")"]})]}),e.jsx(t,{className:"rating-breakdown",children:[5,4,3,2,1].map(s=>{const n=m.breakdown[s]??0,l=m.total>0?n/m.total*100:0;return e.jsxs(t,{className:"rating-bar",children:[e.jsxs(a,{className:"rating-label",children:[s," star"]}),e.jsx(t,{className:"bar-container",children:e.jsx(t,{className:"bar-fill",sx:{width:`${l}%`}})}),e.jsx(a,{className:"rating-count",children:n})]},s)})})]})})]}),e.jsx(t,{className:"text-center mt-4",children:e.jsx(p,{className:"explore-more",variant:"contained",children:"Explore More"})})]})]})})})}),e.jsx("section",{className:"popular-stays-section",children:e.jsxs(f,{children:[e.jsx(a,{className:"section-title",component:"h2",children:r("listing_detail.popular_near")}),e.jsx(h,{className:"g-4",children:N.length>0?N.map(s=>e.jsx(c,{lg:4,md:6,children:e.jsx(ge,{image:s.image||E,title:s.title,location:s.location,price:typeof s.price=="number"?s.price:Number(s.price)||0,id:s.id})},s.id)):e.jsx(c,{lg:12,children:e.jsx(a,{sx:{color:"#717171"},children:"No related properties at the moment."})})})]})})]}),e.jsx(pe,{})]})}export{Ke as default};
