import{b as W,r as l,j as e,a as o}from"./app-GPvwMnjD.js";import{A as E}from"./AdminLayout-B3fzjq3T.js";import{D as F}from"./DeleteConfirmationDialog-DMnaKAqL.js";import{A as R}from"./ActionsMenu-Csg_x3d2.js";import{P as _}from"./Pagination-DBcw0yn5.js";import{S as y}from"./Search-C8klWzd_.js";import{u as B,T as d}from"./use-language-DFtL6GgK.js";import{R as I,C as P}from"./Row-7DwCY0wW.js";import{C as L,a as k}from"./CardContent-BIrKkGm3.js";import{S as u}from"./ArrowDropDown-DnKwYjM7.js";import{T as $}from"./TextField-FgeJYGay.js";import{I as O}from"./InputAdornment-BTEx64h5.js";import{T as U,a as z,b as M,c,d as t,e as G}from"./TableRow-auq9aaDf.js";import{A as H}from"./Menu-HEuTxDKX.js";/* empty css            */import"./BookOnline-BEEBadv2.js";import"./People-DVPdO2dB.js";import"./Hotel-DYRcj2zh.js";import"./Container-jBV_sa23.js";import"./DialogTitle-WfsaDBFM.js";import"./MoreVert-DDrTe-Te.js";import"./Edit-C0eXy9Up.js";import"./Delete-bSb0e4L0.js";import"./Visibility-DGNNY3mS.js";import"./CheckCircle-B3NCOAWi.js";import"./ChevronRight-Re1iQEjR.js";function ge(){const{t:s}=B(),{users:i,filters:f}=W().props,[m,g]=l.useState(f?.search||""),[j,n]=l.useState(!1),[p,a]=l.useState(null),C=r=>r.split(" ").map(T=>T[0]).join("").toUpperCase(),b=r=>{g(r),o.get("/admin/users",{search:r,page:1},{preserveState:!0,replace:!0})},D=r=>{o.get("/admin/users",{search:m,page:r},{preserveState:!0})},w=r=>{a(r),n(!0)},S=()=>{p&&o.delete(`/admin/users/${p.id}`,{onSuccess:()=>{n(!1),a(null)}})},v=()=>{n(!1),a(null)},h=i?.data||[],A=i?.current_page??1,x=i?.last_page??1;return e.jsxs(E,{title:s("admin.users.title"),children:[e.jsx(I,{children:e.jsx(P,{xs:12,children:e.jsx(L,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:"16px"},children:e.jsxs(k,{children:[e.jsxs(u,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(d,{variant:"h6",sx:{fontWeight:700,color:"#111827"},children:s("admin.users.all_users")}),e.jsx($,{value:m,onChange:r=>b(r.target.value),placeholder:s("admin.users.search_placeholder"),size:"small",variant:"outlined",sx:{width:{xs:"100%",sm:250},"& .MuiOutlinedInput-root":{borderRadius:"10px !important","& fieldset":{borderColor:"#E5E7EB",borderRadius:"10px !important"},"&:hover fieldset":{borderColor:"#D1D5DD",borderRadius:"10px !important"},"&.Mui-focused fieldset":{borderColor:"#AD542D",borderRadius:"10px !important"}}},InputProps:{startAdornment:e.jsx(O,{position:"start",children:e.jsx(y,{fontSize:"small",sx:{color:"#9CA3AF"}})})}})]}),e.jsx(U,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(z,{sx:{minWidth:800,width:"100%"},children:[e.jsx(M,{children:e.jsxs(c,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:s("admin.users.name")}),e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:s("admin.users.email")}),e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:s("admin.users.joined")}),e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:s("admin.common.actions")})]})}),e.jsx(G,{children:h.length===0?e.jsx(c,{children:e.jsx(t,{colSpan:4,sx:{textAlign:"center",py:4},children:e.jsx(d,{sx:{color:"#6B7280"},children:s("admin.users.no_users_found")})})}):h.map(r=>e.jsxs(c,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(t,{children:e.jsxs(u,{direction:"row",spacing:2,useFlexGap:!0,alignItems:"center",children:[e.jsx(H,{sx:{width:40,height:40,bgcolor:"#AD542D",fontSize:"1rem",fontWeight:600,cursor:"pointer"},onClick:()=>o.visit(`/admin/users/${r.id}`),children:C(r.name)}),e.jsx(d,{sx:{fontWeight:600,color:"#111827",cursor:"pointer","&:hover":{color:"#AD542D"}},onClick:()=>o.visit(`/admin/users/${r.id}`),children:r.name})]})}),e.jsx(t,{sx:{color:"#6B7280"},children:r.email}),e.jsx(t,{sx:{color:"#6B7280"},children:new Date(r.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx(t,{children:e.jsx(R,{onView:()=>o.visit(`/admin/users/${r.id}`),onEdit:()=>o.visit(`/admin/users/${r.id}/edit`),onDelete:()=>w({id:r.id,name:r.name}),viewLabel:s("admin.common.view"),editLabel:s("admin.common.edit")})})]},r.id))})]})}),x>1&&e.jsx(_,{currentPage:A,lastPage:x,onPageChange:D})]})})})}),e.jsx(F,{open:j,onClose:v,onConfirm:S,title:s("admin.users.delete_confirm"),itemName:s("admin.users.item_name")})]})}export{ge as default};
