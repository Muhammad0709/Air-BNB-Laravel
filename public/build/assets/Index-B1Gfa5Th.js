import{b as S,r as n,j as e,a as t}from"./app-D8edOWXn.js";import{A}from"./AdminLayout-CX-ZJmbw.js";import{D as v}from"./DeleteConfirmationDialog-s3_cmY3U.js";import{A as T}from"./ActionsMenu-BSd7gS-T.js";import{S as E}from"./Search-Cx0qZ2Ku.js";import{R as y,C as W}from"./Row-V3psX_1Y.js";import{C as R,a as B}from"./CardContent-Dv-hAY9L.js";import{S as m}from"./Stack-26joxvls.js";import{T as a}from"./Box-C2PF00jf.js";import{T as F}from"./TextField-D8p6qWxF.js";import{I}from"./InputAdornment-Ckh5xgwH.js";import{T as U,a as k,b as L,c as l,d as o,e as $}from"./TableRow-B585_mj-.js";import{A as O}from"./KeyboardArrowDown-s2i05HpT.js";/* empty css            */import"./Logout-Bicf-Mku.js";import"./People-CceJGhIB.js";import"./Hotel-DhHrj9hv.js";import"./use-language-DtKZJM4y.js";import"./Container-B9bZszYJ.js";import"./DialogTitle-BGKT9-K3.js";import"./MoreVert-DFqSK2nv.js";import"./Edit-DmoDUxqR.js";import"./Delete-BSRGypGA.js";import"./Visibility-B2edmwdG.js";import"./CheckCircle-B5CoXN5y.js";import"./useFormControl-B4piLBUM.js";function me(){const{users:p,filters:h}=S().props,[x,u]=n.useState(h?.search||""),[f,s]=n.useState(!1),[d,i]=n.useState(null),j=r=>r.split(" ").map(w=>w[0]).join("").toUpperCase(),g=r=>{u(r),t.get("/admin/users",{search:r},{preserveState:!0,replace:!0})},b=r=>{i(r),s(!0)},C=()=>{d&&t.delete(`/admin/users/${d.id}`,{onSuccess:()=>{s(!1),i(null)}})},D=()=>{s(!1),i(null)},c=p?.data||[];return e.jsxs(A,{title:"Users",children:[e.jsx(y,{children:e.jsx(W,{xs:12,children:e.jsx(R,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:"16px"},children:e.jsxs(B,{children:[e.jsxs(m,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#111827"},children:"All Users"}),e.jsx(F,{value:x,onChange:r=>g(r.target.value),placeholder:"Search users...",size:"small",variant:"outlined",sx:{width:{xs:"100%",sm:250},"& .MuiOutlinedInput-root":{borderRadius:"10px !important","& fieldset":{borderColor:"#E5E7EB",borderRadius:"10px !important"},"&:hover fieldset":{borderColor:"#D1D5DD",borderRadius:"10px !important"},"&.Mui-focused fieldset":{borderColor:"#AD542D",borderRadius:"10px !important"}}},InputProps:{startAdornment:e.jsx(I,{position:"start",children:e.jsx(E,{fontSize:"small",sx:{color:"#9CA3AF"}})})}})]}),e.jsx(U,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(k,{sx:{minWidth:800,width:"100%"},children:[e.jsx(L,{children:e.jsxs(l,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(o,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Name"}),e.jsx(o,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Email"}),e.jsx(o,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Joined"}),e.jsx(o,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx($,{children:c.length===0?e.jsx(l,{children:e.jsx(o,{colSpan:4,sx:{textAlign:"center",py:4},children:e.jsx(a,{sx:{color:"#6B7280"},children:"No users found"})})}):c.map(r=>e.jsxs(l,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(o,{children:e.jsxs(m,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(O,{sx:{width:40,height:40,bgcolor:"#AD542D",fontSize:"1rem",fontWeight:600,cursor:"pointer"},onClick:()=>t.visit(`/admin/users/${r.id}`),children:j(r.name)}),e.jsx(a,{sx:{fontWeight:600,color:"#111827",cursor:"pointer","&:hover":{color:"#AD542D"}},onClick:()=>t.visit(`/admin/users/${r.id}`),children:r.name})]})}),e.jsx(o,{sx:{color:"#6B7280"},children:r.email}),e.jsx(o,{sx:{color:"#6B7280"},children:new Date(r.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx(o,{children:e.jsx(T,{onView:()=>t.visit(`/admin/users/${r.id}`),onEdit:()=>t.visit(`/admin/users/${r.id}/edit`),onDelete:()=>b({id:r.id,name:r.name}),viewLabel:"View",editLabel:"Edit"})})]},r.id))})]})})]})})})}),e.jsx(v,{open:f,onClose:D,onConfirm:C,title:"Are you sure you want to delete this user?",itemName:"the user"})]})}export{me as default};
