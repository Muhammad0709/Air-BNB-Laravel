import{b as T,r as l,j as e,H as y,a as i}from"./app-GPvwMnjD.js";import{A as F}from"./AdminLayout-B3fzjq3T.js";import{D as B}from"./DeleteConfirmationDialog-DMnaKAqL.js";import{A as _}from"./ActionsMenu-Csg_x3d2.js";import{P}from"./Pagination-DBcw0yn5.js";import{S as E}from"./Search-C8klWzd_.js";import{u as I,T as g,B as L}from"./use-language-DFtL6GgK.js";import{R,C as z}from"./Row-7DwCY0wW.js";import{C as H,a as O}from"./CardContent-BIrKkGm3.js";import{S as u,B as $}from"./ArrowDropDown-DnKwYjM7.js";import{T as G}from"./TextField-FgeJYGay.js";import{I as M}from"./InputAdornment-BTEx64h5.js";import{T as N,a as V,b as X,c,d as n,e as q}from"./TableRow-auq9aaDf.js";import{C as J}from"./Chip-CoBOJIGB.js";/* empty css            */import"./Menu-HEuTxDKX.js";import"./BookOnline-BEEBadv2.js";import"./People-DVPdO2dB.js";import"./Hotel-DYRcj2zh.js";import"./Container-jBV_sa23.js";import"./DialogTitle-WfsaDBFM.js";import"./MoreVert-DDrTe-Te.js";import"./Edit-C0eXy9Up.js";import"./Delete-bSb0e4L0.js";import"./Visibility-DGNNY3mS.js";import"./CheckCircle-B3NCOAWi.js";import"./ChevronRight-Re1iQEjR.js";function ke(){const{t}=I(),d=T().props,s=d.bookings,f=d.filters??{},[m,j]=l.useState(f.search??""),[b,r]=l.useState(!1),[w,a]=l.useState(null),h=Array.isArray(s)?s:s?.data??[],C=s?.current_page??1,p=s?.last_page??1,k=o=>{j(o),i.get("/admin/bookings",{search:o,page:1},{preserveState:!0,replace:!0})},S=o=>{i.get("/admin/bookings",{search:m,page:o},{preserveState:!0})},x=o=>{switch(String(o).toLowerCase()){case"confirmed":return"#10B981";case"pending":return"#F59E0B";case"cancelled":return"#EF4444";case"completed":return"#6366F1";default:return"#717171"}},v=o=>{switch(String(o).toLowerCase()){case"confirmed":return t("admin.bookings.confirmed");case"pending":return t("admin.bookings.pending");case"cancelled":return t("admin.bookings.cancelled");case"completed":return t("admin.bookings.completed")||"Completed";default:return o}},W=o=>{a(o),r(!0)},A=()=>{w&&(r(!1),a(null))},D=()=>{r(!1),a(null)};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:t("admin.bookings.title")}),e.jsxs(F,{title:t("admin.bookings.title"),children:[e.jsx(R,{children:e.jsx(z,{xs:12,children:e.jsx(H,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:2},children:e.jsxs(O,{children:[e.jsxs(u,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(g,{variant:"h6",sx:{fontWeight:700,color:"#222222"},children:t("admin.bookings.all_bookings")}),e.jsxs(u,{direction:{xs:"column",sm:"row"},spacing:2,useFlexGap:!0,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:[e.jsx(G,{value:m,onChange:o=>k(o.target.value),placeholder:t("admin.bookings.search_placeholder"),size:"small",sx:{width:{xs:"100%",sm:250}},InputProps:{startAdornment:e.jsx(M,{position:"start",children:e.jsx(E,{fontSize:"small",sx:{color:"#9CA3AF"}})})}}),e.jsx($,{variant:"contained",onClick:()=>i.visit("/admin/bookings/create"),sx:{bgcolor:"#AD542D",textTransform:"none",fontWeight:700,"&:hover":{bgcolor:"#78381C"}},children:t("admin.bookings.add_booking")})]})]}),e.jsx(N,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(V,{sx:{minWidth:800,width:"100%"},children:[e.jsx(X,{children:e.jsxs(c,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(n,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.guest")}),e.jsx(n,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.property")}),e.jsx(n,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.check_in")}),e.jsx(n,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.check_out")}),e.jsx(n,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.status")}),e.jsx(n,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.amount")}),e.jsx(n,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.common.actions")})]})}),e.jsx(q,{children:h.length===0?e.jsx(c,{children:e.jsx(n,{colSpan:7,sx:{border:"none",py:8},children:e.jsx(L,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:e.jsx(g,{variant:"body1",sx:{color:"#717171",fontWeight:600},children:t("admin.bookings.no_bookings_found")})})})}):h.map(o=>e.jsxs(c,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(n,{sx:{fontWeight:600,color:"#222222"},children:o.guest}),e.jsx(n,{sx:{color:"#717171"},children:o.property}),e.jsx(n,{sx:{color:"#717171"},children:o.checkin}),e.jsx(n,{sx:{color:"#717171"},children:o.checkout}),e.jsx(n,{children:e.jsx(J,{label:v(o.status),size:"small",sx:{bgcolor:`${x(o.status)}15`,color:x(o.status),fontWeight:600,fontSize:12}})}),e.jsx(n,{sx:{fontWeight:700,color:"#222222"},children:o.amount}),e.jsx(n,{children:e.jsx(_,{onView:()=>i.visit(`/admin/bookings/${o.id}`),onEdit:()=>i.visit(`/admin/bookings/${o.id}/edit`),onDelete:()=>W({id:o.id,guest:o.guest}),viewLabel:t("admin.common.view"),editLabel:t("admin.common.edit")})})]},o.id))})]})}),p>1&&e.jsx(P,{currentPage:C,lastPage:p,onPageChange:S})]})})})}),e.jsx(B,{open:b,onClose:D,onConfirm:A,title:t("admin.bookings.delete_confirm"),itemName:t("admin.bookings.item_name")})]})]})}export{ke as default};
