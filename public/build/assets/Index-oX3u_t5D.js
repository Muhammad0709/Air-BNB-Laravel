import{b as g,r as j,j as o,H as f,a as s}from"./app-GPvwMnjD.js";import{A as u}from"./AdminLayout-B3fzjq3T.js";import{A as w}from"./ActionsMenu-Csg_x3d2.js";import{P as _}from"./Pagination-DBcw0yn5.js";import{S as y}from"./Search-C8klWzd_.js";import{u as b,T as c}from"./use-language-DFtL6GgK.js";import{R as S,C}from"./Row-7DwCY0wW.js";import{C as A,a as W}from"./CardContent-BIrKkGm3.js";import{S as v}from"./ArrowDropDown-DnKwYjM7.js";import{T}from"./TextField-FgeJYGay.js";import{I as F}from"./InputAdornment-BTEx64h5.js";import{T as B,a as P,b as I,c as i,d as t,e as k}from"./TableRow-auq9aaDf.js";/* empty css            */import"./Menu-HEuTxDKX.js";import"./BookOnline-BEEBadv2.js";import"./People-DVPdO2dB.js";import"./Hotel-DYRcj2zh.js";import"./Container-jBV_sa23.js";import"./MoreVert-DDrTe-Te.js";import"./Edit-C0eXy9Up.js";import"./Delete-bSb0e4L0.js";import"./Visibility-DGNNY3mS.js";import"./CheckCircle-B3NCOAWi.js";import"./ChevronRight-Re1iQEjR.js";function so(){const{t:r}=b(),{hosts:a=[],current_page:m=1,last_page:n=1,filters:h={}}=g().props??{},[l,d]=j.useState(h.search??""),x=e=>{d(e),s.get("/admin/history",{search:e,page:1},{preserveState:!0,replace:!0})},p=e=>{s.get("/admin/history",{search:l,page:e},{preserveState:!0})};return o.jsxs(o.Fragment,{children:[o.jsx(f,{title:r("admin.history.title")}),o.jsx(u,{title:r("admin.history.title"),children:o.jsx(S,{children:o.jsx(C,{xs:12,children:o.jsx(A,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:"16px"},children:o.jsxs(W,{children:[o.jsxs(v,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[o.jsx(c,{variant:"h6",sx:{fontWeight:700,color:"#111827"},children:r("admin.history.manage_history")}),o.jsx(T,{value:l,onChange:e=>x(e.target.value),placeholder:r("admin.history.search_placeholder"),size:"small",sx:{width:{xs:"100%",sm:250}},InputProps:{startAdornment:o.jsx(F,{position:"start",children:o.jsx(y,{fontSize:"small",sx:{color:"#9CA3AF"}})})}})]}),o.jsx(B,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:o.jsxs(P,{sx:{minWidth:800,width:"100%"},children:[o.jsx(I,{children:o.jsxs(i,{sx:{bgcolor:"#F9FAFB"},children:[o.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:r("admin.history.host")}),o.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:r("admin.history.bookings_count")}),o.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:r("admin.history.total_amount")}),o.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:r("admin.history.host_earning")}),o.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:r("admin.history.admin_commission")}),o.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:r("admin.common.actions")})]})}),o.jsx(k,{children:a.length===0?o.jsx(i,{children:o.jsx(t,{colSpan:6,sx:{textAlign:"center",py:4},children:o.jsx(c,{sx:{color:"#6B7280"},children:r("admin.history.no_completed_bookings")})})}):a.map(e=>o.jsxs(i,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[o.jsx(t,{sx:{fontWeight:600,color:"#111827"},children:e.host_name}),o.jsx(t,{sx:{color:"#6B7280"},children:e.bookings_count}),o.jsx(t,{sx:{color:"#6B7280"},children:e.total_amount_formatted}),o.jsx(t,{sx:{fontWeight:700,color:"#111827"},children:e.total_host_earning_formatted}),o.jsx(t,{sx:{color:"#6B7280"},children:e.total_commission_formatted}),o.jsx(t,{children:o.jsx(w,{onView:()=>s.visit(`/admin/history/${e.host_id}`),viewLabel:r("admin.common.view")})})]},e.host_id))})]})}),n>1&&o.jsx(_,{currentPage:m,lastPage:n,onPageChange:p})]})})})})})]})}export{so as default};
