import{b as W,r as i,j as e,H as v,a as m}from"./app-UOOPPRb9.js";import{A as y}from"./AdminLayout-7hC5p0Kq.js";import{D as A}from"./DeleteConfirmationDialog-BdAAUuXb.js";import{A as D}from"./ActionsMenu-B-e2dx_3.js";import{S as T}from"./Search-CgD2bYav.js";import{u as B,T as u,B as F}from"./use-language-CHwsoj7c.js";import{R as L,C as _}from"./Row-B5u1sdwU.js";import{C as E,a as I}from"./CardContent-DDC5mKbN.js";import{S as g,B as R}from"./ArrowDropDown-DdBapB5l.js";import{T as z}from"./TextField-Bb3uU5kP.js";import{I as H}from"./InputAdornment-CgHuUrpB.js";import{T as O,a as P,b as $,c as x,d as s,e as M}from"./TableRow-DyjS4POQ.js";import{C as q}from"./Chip-CrxKeyAu.js";/* empty css            */import"./Menu-Cs8Ccy14.js";import"./BookOnline-OXFeWT_t.js";import"./People-DWYDF8bA.js";import"./Hotel-Dd6wf8Us.js";import"./Container-BRr39q6J.js";import"./DialogTitle-CEEqrm4m.js";import"./MoreVert-DevZ4Wyi.js";import"./Edit-06soOlCo.js";import"./Delete-BwTs_nfH.js";import"./Visibility-DojqcNu5.js";import"./CheckCircle-D36UaMMM.js";function ue(){const{t}=B(),{bookings:r=[]}=W().props??{},[n,f]=i.useState(""),[j,a]=i.useState(!1),[b,l]=i.useState(null),h=i.useMemo(()=>{const o=Array.isArray(r)?r:[];if(!n.trim())return o;const c=n.toLowerCase();return o.filter(d=>d.guest.toLowerCase().includes(c)||d.property.toLowerCase().includes(c)||d.status.toLowerCase().includes(c))},[r,n]),p=o=>{switch(String(o).toLowerCase()){case"confirmed":return"#10B981";case"pending":return"#F59E0B";case"cancelled":return"#EF4444";case"completed":return"#6366F1";default:return"#717171"}},w=o=>{switch(String(o).toLowerCase()){case"confirmed":return t("admin.bookings.confirmed");case"pending":return t("admin.bookings.pending");case"cancelled":return t("admin.bookings.cancelled");case"completed":return t("admin.bookings.completed")||"Completed";default:return o}},C=o=>{l(o),a(!0)},k=()=>{b&&(a(!1),l(null))},S=()=>{a(!1),l(null)};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:t("admin.bookings.title")}),e.jsxs(y,{title:t("admin.bookings.title"),children:[e.jsx(L,{children:e.jsx(_,{xs:12,children:e.jsx(E,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:2},children:e.jsxs(I,{children:[e.jsxs(g,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(u,{variant:"h6",sx:{fontWeight:700,color:"#222222"},children:t("admin.bookings.all_bookings")}),e.jsxs(g,{direction:{xs:"column",sm:"row"},spacing:2,useFlexGap:!0,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:[e.jsx(z,{value:n,onChange:o=>f(o.target.value),placeholder:t("admin.bookings.search_placeholder"),size:"small",sx:{width:{xs:"100%",sm:250}},InputProps:{startAdornment:e.jsx(H,{position:"start",children:e.jsx(T,{fontSize:"small",sx:{color:"#9CA3AF"}})})}}),e.jsx(R,{variant:"contained",onClick:()=>m.visit("/admin/bookings/create"),sx:{bgcolor:"#AD542D",textTransform:"none",fontWeight:700,"&:hover":{bgcolor:"#78381C"}},children:t("admin.bookings.add_booking")})]})]}),e.jsx(O,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(P,{sx:{minWidth:800,width:"100%"},children:[e.jsx($,{children:e.jsxs(x,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.guest")}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.property")}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.check_in")}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.check_out")}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.status")}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.bookings.amount")}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:t("admin.common.actions")})]})}),e.jsx(M,{children:h.length===0?e.jsx(x,{children:e.jsx(s,{colSpan:7,sx:{border:"none",py:8},children:e.jsx(F,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:e.jsx(u,{variant:"body1",sx:{color:"#717171",fontWeight:600},children:t("admin.bookings.no_bookings_found")})})})}):h.map(o=>e.jsxs(x,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(s,{sx:{fontWeight:600,color:"#222222"},children:o.guest}),e.jsx(s,{sx:{color:"#717171"},children:o.property}),e.jsx(s,{sx:{color:"#717171"},children:o.checkin}),e.jsx(s,{sx:{color:"#717171"},children:o.checkout}),e.jsx(s,{children:e.jsx(q,{label:w(o.status),size:"small",sx:{bgcolor:`${p(o.status)}15`,color:p(o.status),fontWeight:600,fontSize:12}})}),e.jsx(s,{sx:{fontWeight:700,color:"#222222"},children:o.amount}),e.jsx(s,{children:e.jsx(D,{onView:()=>m.visit(`/admin/bookings/${o.id}`),onEdit:()=>m.visit(`/admin/bookings/${o.id}/edit`),onDelete:()=>C({id:o.id,guest:o.guest}),viewLabel:t("admin.common.view"),editLabel:t("admin.common.edit")})})]},o.id))})]})})]})})})}),e.jsx(A,{open:j,onClose:S,onConfirm:k,title:t("admin.bookings.delete_confirm"),itemName:t("admin.bookings.item_name")})]})]})}export{ue as default};
