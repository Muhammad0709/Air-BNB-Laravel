import{b as A,r as B,j as e,a as x}from"./app-zSN1GCjy.js";import{H as D}from"./HostLayout-C-KOxltu.js";import{A as I}from"./ArrowBack-Cjge8MSk.js";import{C as P}from"./CloudUpload-Co9BIEV6.js";import{D as E}from"./Delete-BPjgLMPw.js";import{B as g,S as c,a as W}from"./ArrowDropDown-D1rz-Ig3.js";import{C as T,a as w}from"./CardContent-90scPfYR.js";import{T as n,B as b}from"./use-language-v_QDezVf.js";import{R as d,C as l}from"./Row-C-WczzeI.js";import{T as i,F as S,I as k,S as q}from"./TextField-zd5H6sDy.js";import{I as R}from"./KeyboardArrowDown-Bk3dO2hJ.js";/* empty css            */import"./Logout-Ds_Pzf3o.js";import"./Hotel-rPAB0LIo.js";import"./Message-Des1Qmnn.js";import"./Container-CeqV11MO.js";import"./useFormControl-BhmQ7WwV.js";function ee(){const{propertyTypes:f,errors:m={}}=A().props,[t,p]=B.useState({title:"",location:"",price:"",bedrooms:"",bathrooms:"",guests:"",property_type:"",description:"",images:[]}),a=o=>{const{name:r,value:s}=o.target;p(h=>({...h,[r]:s}))},y=(o,r)=>{p(s=>({...s,[o]:r}))},C=o=>{const r=o.target.files?Array.from(o.target.files):[];o.target.value="",r.length&&p(s=>({...s,images:[...s.images,...r]}))},u=m&&typeof m=="object"?Object.entries(m).find(([o])=>o.startsWith("images."))?.[1]??null:null,j=Array.isArray(u)?u[0]:u,v=o=>{p(r=>({...r,images:r.images.filter((s,h)=>h!==o)}))},F=o=>{o.preventDefault();const r=new FormData;r.append("title",t.title),r.append("location",t.location),r.append("price",t.price),r.append("bedrooms",t.bedrooms),r.append("bathrooms",t.bathrooms),r.append("guests",t.guests),r.append("property_type",t.property_type),r.append("description",t.description),t.images.forEach(s=>{r.append("images[]",s)}),x.post("/host/properties",r,{forceFormData:!0})};return e.jsxs(D,{title:"Add Property",children:[e.jsx(g,{startIcon:e.jsx(I,{}),onClick:()=>x.visit("/host/properties"),sx:{mb:3,color:"#6B7280",textTransform:"none","&:hover":{bgcolor:"#F9FAFB",color:"#111827"}},children:"Back to Properties"}),e.jsx(T,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:"16px"},children:e.jsxs(w,{sx:{p:{xs:2,md:4}},children:[e.jsx(n,{variant:"h5",sx:{fontWeight:700,color:"#111827",mb:4},children:"Property Information"}),e.jsxs("form",{onSubmit:F,children:[e.jsxs(d,{children:[e.jsx(l,{xs:12,md:6,children:e.jsxs(c,{spacing:3,sx:{mb:{xs:3,md:0}},children:[e.jsx(i,{label:"Property Title",name:"title",value:t.title,onChange:a,required:!0,fullWidth:!0,sx:{mb:2}}),e.jsx(i,{label:"Location",name:"location",value:t.location,onChange:a,required:!0,fullWidth:!0,placeholder:"e.g., Malibu, California"}),e.jsx(i,{label:"Price per Night",name:"price",type:"number",value:t.price,onChange:a,required:!0,fullWidth:!0,InputProps:{startAdornment:e.jsx(n,{sx:{marginInlineEnd:1,color:"#6B7280"},children:"$"})}})]})}),e.jsx(l,{xs:12,md:6,children:e.jsxs(c,{spacing:3,children:[e.jsxs(S,{fullWidth:!0,required:!0,children:[e.jsx(k,{children:"Property Type"}),e.jsx(q,{value:t.property_type,onChange:o=>y("property_type",o.target.value),label:"Property Type",children:f.map(o=>e.jsx(W,{value:o,children:o.charAt(0).toUpperCase()+o.slice(1)},o))})]}),e.jsx(i,{label:"Bedrooms",name:"bedrooms",type:"number",value:t.bedrooms,onChange:a,required:!0,fullWidth:!0}),e.jsx(i,{label:"Bathrooms",name:"bathrooms",type:"number",value:t.bathrooms,onChange:a,required:!0,fullWidth:!0}),e.jsx(i,{label:"Guests",name:"guests",type:"number",value:t.guests,onChange:a,required:!0,fullWidth:!0})]})})]}),e.jsx(d,{className:"mt-3",children:e.jsx(l,{xs:12,children:e.jsx(i,{label:"Description",name:"description",value:t.description,onChange:a,required:!0,fullWidth:!0,multiline:!0,rows:6,placeholder:"Describe the property in detail..."})})}),e.jsx(d,{className:"mt-4",children:e.jsxs(l,{xs:12,children:[e.jsx(n,{variant:"h6",sx:{fontWeight:700,color:"#111827",mb:2},children:"Property Images"}),e.jsxs(b,{sx:{border:"2px dashed #D1D5DB",borderRadius:"12px",p:2,textAlign:"center",cursor:"pointer",mb:2,"&:hover":{borderColor:"#AD542D",bgcolor:"#FFF7F5"}},onClick:()=>document.getElementById("image-upload")?.click(),children:[e.jsx(P,{sx:{fontSize:40,color:"#9CA3AF",mb:1}}),e.jsx(n,{sx:{color:"#374151"},children:"Add images (PNG, JPG, GIF up to 2MB)"})]}),j&&e.jsx(n,{color:"error",variant:"body2",sx:{mb:2},children:j}),e.jsx("input",{id:"image-upload",type:"file",accept:"image/*",multiple:!0,onChange:C,style:{display:"none"}}),e.jsx(c,{direction:"row",flexWrap:"wrap",gap:2,children:t.images.map((o,r)=>e.jsxs(b,{sx:{position:"relative"},children:[e.jsx(b,{component:"img",src:URL.createObjectURL(o),alt:`Preview ${r+1}`,sx:{width:120,height:90,objectFit:"cover",borderRadius:2,border:"1px solid #E5E7EB"}}),e.jsx(R,{size:"small",onClick:()=>v(r),sx:{position:"absolute",top:4,right:4,bgcolor:"rgba(0,0,0,0.6)",color:"white","&:hover":{bgcolor:"rgba(0,0,0,0.8)"}},children:e.jsx(E,{fontSize:"small"})})]},r))})]})}),e.jsx(d,{className:"mt-4",children:e.jsx(l,{xs:12,children:e.jsxs(c,{direction:{xs:"column",sm:"row"},spacing:2,useFlexGap:!0,justifyContent:"flex-end",sx:{width:"100%"},children:[e.jsx(g,{variant:"outlined",onClick:()=>x.visit("/host/properties"),sx:{textTransform:"none",borderColor:"#D1D5DB",color:"#6B7280","&:hover":{borderColor:"#9CA3AF",bgcolor:"#F9FAFB"}},children:"Cancel"}),e.jsx(g,{type:"submit",variant:"contained",sx:{bgcolor:"#AD542D",textTransform:"none",fontWeight:700,"&:hover":{bgcolor:"#78381C"}},children:"Add Property"})]})})})]})]})})]})}export{ee as default};
