import{b as W,r as y,j as e,a as g}from"./app-GPvwMnjD.js";import{H as S}from"./HostLayout-C3SJWLtj.js";import{A as w}from"./ArrowBack-Ci0Euwbk.js";import{C as R}from"./CloudUpload-dl_rVC7v.js";import{D as L}from"./Delete-bSb0e4L0.js";import{A as z,T as q}from"./hostPropertyOptions-BsYRLqhL.js";import{B as _,S as a,a as u,I as G}from"./ArrowDropDown-DnKwYjM7.js";import{C as f,a as F}from"./CardContent-BIrKkGm3.js";import{T as n,B as c}from"./use-language-DFtL6GgK.js";import{R as m,C as p}from"./Row-7DwCY0wW.js";import{T as i,F as j,I as v,S as C}from"./TextField-FgeJYGay.js";import{F as k}from"./FormControlLabel-CM1FT1UK.js";import{C as A}from"./Checkbox-DXUEbrbG.js";/* empty css            */import"./Menu-HEuTxDKX.js";import"./BookOnline-BEEBadv2.js";import"./Hotel-DYRcj2zh.js";import"./Message-laNH6aSc.js";import"./Container-jBV_sa23.js";function de(){const{propertyTypes:I,errors:h={}}=W().props,[o,d]=y.useState({title:"",location:"",price:"",bedrooms:"",bathrooms:"",guests:"",property_type:"",description:"",images:[],airport_pickup_enabled:!1,airport:"",pickup_start_time:"",pickup_end_time:"",airport_pickup_price:"",guided_tours_enabled:!1,guided_tours_description:"",guided_tours_duration:"",guided_tours_price:""}),[D,B]=y.useState(""),l=r=>{const{name:t,value:s}=r.target;d(b=>({...b,[t]:s}))},M=(r,t)=>{d(s=>({...s,[r]:t}))},P=r=>{const t=r.target.files?Array.from(r.target.files):[];r.target.value="",t.length&&d(s=>({...s,images:[...s.images,...t]}))},x=h&&typeof h=="object"?Object.entries(h).find(([r])=>r.startsWith("images."))?.[1]??null:null,E=Array.isArray(x)?x[0]:x,T=r=>{d(t=>({...t,images:t.images.filter((s,b)=>b!==r)}))},O=r=>{r.preventDefault();const t=new FormData;if(t.append("title",o.title),t.append("location",o.location),t.append("price",o.price),t.append("bedrooms",o.bedrooms),t.append("bathrooms",o.bathrooms),t.append("guests",o.guests),t.append("property_type",o.property_type),t.append("description",o.description),t.append("airport_pickup_enabled",o.airport_pickup_enabled?"1":"0"),o.airport_pickup_enabled&&(t.append("airport",o.airport),t.append("pickup_start_time",o.pickup_start_time),t.append("pickup_end_time",o.pickup_end_time),t.append("airport_pickup_price",o.airport_pickup_price)),t.append("guided_tours_enabled",o.guided_tours_enabled?"1":"0"),o.guided_tours_enabled){t.append("guided_tours_description",o.guided_tours_description);const s=o.guided_tours_duration==="Custom Duration"?D:o.guided_tours_duration;t.append("guided_tours_duration",s),t.append("guided_tours_price",o.guided_tours_price)}o.images.forEach(s=>{t.append("images[]",s)}),g.post("/host/properties",t,{forceFormData:!0})};return e.jsxs(S,{title:"Add Property",children:[e.jsx(_,{startIcon:e.jsx(w,{}),onClick:()=>g.visit("/host/properties"),sx:{mb:3,color:"#6B7280",textTransform:"none","&:hover":{bgcolor:"#F9FAFB",color:"#111827"}},children:"Back to Properties"}),e.jsx(f,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:"16px"},children:e.jsxs(F,{sx:{p:{xs:2,md:4}},children:[e.jsx(n,{variant:"h5",sx:{fontWeight:700,color:"#111827",mb:4},children:"Property Information"}),e.jsxs("form",{onSubmit:O,children:[e.jsxs(m,{children:[e.jsx(p,{xs:12,md:6,children:e.jsxs(a,{spacing:3,sx:{mb:{xs:3,md:0}},children:[e.jsx(i,{label:"Property Title",name:"title",value:o.title,onChange:l,required:!0,fullWidth:!0,sx:{mb:2}}),e.jsx(i,{label:"Location",name:"location",value:o.location,onChange:l,required:!0,fullWidth:!0,placeholder:"e.g., Malibu, California"}),e.jsx(i,{label:"Price per Night",name:"price",type:"number",value:o.price,onChange:l,required:!0,fullWidth:!0,InputProps:{startAdornment:e.jsx(n,{sx:{marginInlineEnd:1,color:"#6B7280"},children:"$"})}})]})}),e.jsx(p,{xs:12,md:6,children:e.jsxs(a,{spacing:3,children:[e.jsxs(j,{fullWidth:!0,required:!0,children:[e.jsx(v,{children:"Property Type"}),e.jsx(C,{value:o.property_type,onChange:r=>M("property_type",r.target.value),label:"Property Type",children:I.map(r=>e.jsx(u,{value:r,children:r.charAt(0).toUpperCase()+r.slice(1)},r))})]}),e.jsx(i,{label:"Bedrooms",name:"bedrooms",type:"number",value:o.bedrooms,onChange:l,required:!0,fullWidth:!0}),e.jsx(i,{label:"Bathrooms",name:"bathrooms",type:"number",value:o.bathrooms,onChange:l,required:!0,fullWidth:!0}),e.jsx(i,{label:"Guests",name:"guests",type:"number",value:o.guests,onChange:l,required:!0,fullWidth:!0})]})})]}),e.jsx(m,{className:"mt-3",children:e.jsx(p,{xs:12,children:e.jsx(i,{label:"Description",name:"description",value:o.description,onChange:l,required:!0,fullWidth:!0,multiline:!0,rows:6,placeholder:"Describe the property in detail..."})})}),e.jsxs(c,{sx:{mt:4,bgcolor:"#F9FAFB",borderRadius:"12px",p:3},children:[e.jsx(f,{elevation:0,sx:{bgcolor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",mb:3,overflow:"visible"},children:e.jsxs(F,{sx:{p:3},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,color:"#111827",mb:2},children:"Airport Pickup Service"}),e.jsx(k,{control:e.jsx(A,{checked:o.airport_pickup_enabled,onChange:r=>d(t=>({...t,airport_pickup_enabled:r.target.checked})),sx:{color:"#AD542D","&.Mui-checked":{color:"#AD542D",bgcolor:"#FFF5F2"}}}),label:e.jsx(n,{sx:{color:"#374151",fontWeight:500},children:"Enable Airport Pickup Service"})}),o.airport_pickup_enabled&&e.jsxs(a,{spacing:2.5,sx:{mt:3,width:"100%"},children:[e.jsxs(j,{fullWidth:!0,size:"medium",required:!0,children:[e.jsx(v,{sx:{color:"#374151"},shrink:!0,children:"Select Airport *"}),e.jsxs(C,{value:o.airport,onChange:r=>d(t=>({...t,airport:r.target.value})),label:"Select Airport *",displayEmpty:!0,renderValue:r=>r||"Select Airport",sx:{bgcolor:"#FFFFFF","& .MuiOutlinedInput-notchedOutline":{borderColor:"#E5E7EB"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#D1D5DB"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#AD542D",borderWidth:1},"& .MuiSelect-select":{py:1.5}},variant:"outlined",children:[e.jsx(u,{value:"",children:"Select Airport"}),z.map(r=>e.jsx(u,{value:r.value,children:r.label},r.value))]})]}),e.jsxs(a,{direction:"row",spacing:2,children:[e.jsx(i,{label:"Pickup Start Time *",name:"pickup_start_time",value:o.pickup_start_time,onChange:l,type:"time",fullWidth:!0,size:"medium",InputLabelProps:{shrink:!0},placeholder:"--:--",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{bgcolor:"#FFFFFF","& fieldset":{borderColor:"#E5E7EB"},"&:hover fieldset":{borderColor:"#D1D5DB"},"&.Mui-focused fieldset":{borderColor:"#AD542D"}},"& .MuiInputLabel-root":{color:"#374151"}}}),e.jsx(i,{label:"Pickup End Time *",name:"pickup_end_time",value:o.pickup_end_time,onChange:l,type:"time",fullWidth:!0,size:"medium",InputLabelProps:{shrink:!0},placeholder:"--:--",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{bgcolor:"#FFFFFF","& fieldset":{borderColor:"#E5E7EB"},"&:hover fieldset":{borderColor:"#D1D5DB"},"&.Mui-focused fieldset":{borderColor:"#AD542D"}},"& .MuiInputLabel-root":{color:"#374151"}}})]}),e.jsx(i,{label:"Airport Pickup Price *",name:"airport_pickup_price",type:"number",value:o.airport_pickup_price,onChange:l,fullWidth:!0,size:"medium",inputProps:{min:0,step:.01},InputProps:{startAdornment:e.jsx(n,{sx:{mr:1,color:"#6B7280"},children:"$"})},placeholder:"Enter price for airport pickup service",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{bgcolor:"#FFFFFF","& fieldset":{borderColor:"#E5E7EB"},"&:hover fieldset":{borderColor:"#D1D5DB"},"&.Mui-focused fieldset":{borderColor:"#AD542D"}},"& .MuiInputLabel-root":{color:"#374151"}}})]})]})}),e.jsx(f,{elevation:0,sx:{bgcolor:"#FFFFFF",border:"1px solid #E5E7EB",borderRadius:"12px",overflow:"visible"},children:e.jsxs(F,{sx:{p:3},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,color:"#111827",mb:2},children:"Guided Tours Service"}),e.jsx(k,{control:e.jsx(A,{checked:o.guided_tours_enabled,onChange:r=>d(t=>({...t,guided_tours_enabled:r.target.checked})),sx:{color:"#AD542D","&.Mui-checked":{color:"#AD542D",bgcolor:"#FFF5F2"}}}),label:e.jsx(n,{sx:{color:"#374151",fontWeight:500},children:"Enable Guided Tours Service"})}),o.guided_tours_enabled&&e.jsxs(a,{spacing:2.5,sx:{mt:3,width:"100%"},children:[e.jsx(i,{label:"Tour Description *",name:"guided_tours_description",value:o.guided_tours_description,onChange:l,fullWidth:!0,multiline:!0,rows:3,size:"medium",placeholder:"Describe the tour experience...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{bgcolor:"#FFFFFF","& fieldset":{borderColor:"#E5E7EB"},"&:hover fieldset":{borderColor:"#D1D5DB"},"&.Mui-focused fieldset":{borderColor:"#AD542D"}},"& .MuiInputLabel-root":{color:"#374151"}}}),e.jsxs(j,{fullWidth:!0,size:"medium",required:!0,children:[e.jsx(v,{sx:{color:"#374151"},shrink:!0,children:"Tour Duration *"}),e.jsxs(C,{value:o.guided_tours_duration,onChange:r=>d(t=>({...t,guided_tours_duration:r.target.value})),label:"Tour Duration *",displayEmpty:!0,renderValue:r=>r||"Select duration",sx:{bgcolor:"#FFFFFF","& .MuiOutlinedInput-notchedOutline":{borderColor:"#E5E7EB"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#D1D5DB"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#AD542D",borderWidth:1},"& .MuiSelect-select":{py:1.5}},variant:"outlined",children:[e.jsx(u,{value:"",children:"Select duration"}),q.map(r=>e.jsx(u,{value:r.value,children:r.label},r.value))]})]}),o.guided_tours_duration==="Custom Duration"&&e.jsx(i,{label:"Custom duration (e.g. 2.5 hours)",name:"guided_tours_duration_custom",value:D,onChange:r=>B(r.target.value),fullWidth:!0,size:"medium",placeholder:"Enter custom duration",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{bgcolor:"#FFFFFF","& fieldset":{borderColor:"#E5E7EB"},"&:hover fieldset":{borderColor:"#D1D5DB"},"&.Mui-focused fieldset":{borderColor:"#AD542D"}},"& .MuiInputLabel-root":{color:"#374151"}}}),e.jsx(i,{label:"Guided Tour Price *",name:"guided_tours_price",type:"number",value:o.guided_tours_price,onChange:l,fullWidth:!0,size:"medium",inputProps:{min:0,step:.01},InputProps:{startAdornment:e.jsx(n,{sx:{mr:1,color:"#6B7280"},children:"$"})},placeholder:"Enter price for guided tour service",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{bgcolor:"#FFFFFF","& fieldset":{borderColor:"#E5E7EB"},"&:hover fieldset":{borderColor:"#D1D5DB"},"&.Mui-focused fieldset":{borderColor:"#AD542D"}},"& .MuiInputLabel-root":{color:"#374151"}}})]})]})})]}),e.jsx(m,{className:"mt-4",children:e.jsxs(p,{xs:12,children:[e.jsx(n,{variant:"h6",sx:{fontWeight:700,color:"#111827",mb:2},children:"Property Images"}),e.jsxs(c,{sx:{border:"2px dashed #D1D5DB",borderRadius:"12px",p:2,textAlign:"center",cursor:"pointer",mb:2,"&:hover":{borderColor:"#AD542D",bgcolor:"#FFF7F5"}},onClick:()=>document.getElementById("image-upload")?.click(),children:[e.jsx(R,{sx:{fontSize:40,color:"#9CA3AF",mb:1}}),e.jsx(n,{sx:{color:"#374151"},children:"Add images (PNG, JPG, GIF up to 2MB)"})]}),E&&e.jsx(n,{color:"error",variant:"body2",sx:{mb:2},children:E}),e.jsx("input",{id:"image-upload",type:"file",accept:"image/*",multiple:!0,onChange:P,style:{display:"none"}}),e.jsx(a,{direction:"row",flexWrap:"wrap",gap:2,children:o.images.map((r,t)=>e.jsxs(c,{sx:{position:"relative"},children:[e.jsx(c,{component:"img",src:URL.createObjectURL(r),alt:`Preview ${t+1}`,sx:{width:120,height:90,objectFit:"cover",borderRadius:2,border:"1px solid #E5E7EB"}}),e.jsx(G,{size:"small",onClick:()=>T(t),sx:{position:"absolute",top:4,right:4,bgcolor:"rgba(0,0,0,0.6)",color:"white","&:hover":{bgcolor:"rgba(0,0,0,0.8)"}},children:e.jsx(L,{fontSize:"small"})})]},t))})]})}),e.jsx(m,{className:"mt-4",children:e.jsx(p,{xs:12,children:e.jsxs(a,{direction:{xs:"column",sm:"row"},spacing:2,useFlexGap:!0,justifyContent:"flex-end",sx:{width:"100%"},children:[e.jsx(_,{variant:"outlined",onClick:()=>g.visit("/host/properties"),sx:{textTransform:"none",borderColor:"#D1D5DB",color:"#6B7280","&:hover":{borderColor:"#9CA3AF",bgcolor:"#F9FAFB"}},children:"Cancel"}),e.jsx(_,{type:"submit",variant:"contained",sx:{bgcolor:"#AD542D",textTransform:"none",fontWeight:700,"&:hover":{bgcolor:"#78381C"}},children:"Add Property"})]})})})]})]})})]})}export{de as default};
