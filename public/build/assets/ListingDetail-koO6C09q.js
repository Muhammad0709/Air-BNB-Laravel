import{j as e,b as ae,r as m,H as te,a as R}from"./app-B6pN7kyh.js";import{N as ne,F as re}from"./Footer-CC0S6WAI.js";import{F as oe}from"./FeaturedCard-B5kDWOAD.js";import{L as ce}from"./LocationOn-C9Xhahsj.js";import{S as M}from"./Star-CqtldoJM.js";import{C as ie}from"./CheckCircle-ZJRsNTCs.js";import{C as _,a as L}from"./ChevronRight-DcC0mTZf.js";import{B as le}from"./Bed-DNxmFLME.js";import{c as y,P as i,B as x,S as O}from"./Stack-CNA8TEFx.js";import{P as me}from"./People-4mc0tMCi.js";import{H as he}from"./Home-CUP3EMgT.js";import{M as de}from"./Message-W1GlWH3W.js";import{A as xe}from"./AccessTime-Cv6YyQez.js";import{A as W}from"./AttachMoney-BUa_J-Wz.js";import{B as s,T as t}from"./Box-IK9SSuU0.js";import{C as j}from"./Container-DaNZjAH9.js";import{R as h,C as c}from"./Row-D0Jksvox.js";import{F as Y}from"./FormControlLabel-BpwneZqF.js";import{C as G}from"./Checkbox-C87_HGXr.js";/* empty css            */import"./KeyboardArrowDown-CIkHRzbX.js";import"./Close-Cka4wPRk.js";import"./useFormControl-Bve4uxBs.js";const pe=y(e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m2-3H7v-1c0-2.76 2.24-5 5-5s5 2.24 5 5z"})),je=y(e.jsx("path",{d:"M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 2.59 4.49s7.12-1.9 16.57-4.43c.81-.23 1.28-1.05 1.07-1.85"})),ge=y(e.jsx("path",{d:"M21 4H7V2H5v20h2v-8h14l-2-5zm-6 5c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2"})),ue=y([e.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),e.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),k="/images/popular-stay-1.svg";function Le(){const{property:r,relatedProperties:A,reviews:w,ratingStats:l}=ae().props,[g,C]=m.useState(new Date(2025,7,1)),[u,I]=m.useState(new Date(2025,7,1)),[V,q]=m.useState(6),[U,J]=m.useState(11),[b,Q]=m.useState(!1),[v,X]=m.useState(!1),N={airport:"Los Angeles International Airport (LAX)",pickupStartTime:"08:00",pickupEndTime:"22:00",price:"$50"},D={description:"Explore the beautiful city with our expert local guide. Visit historical landmarks, cultural sites, and hidden gems.",duration:"Half Day (4-5 hours)",price:"$75"},S=m.useMemo(()=>Array.isArray(r.images)&&r.images.length>0?r.images:r.image?[r.image]:[k],[r.images,r.image]),f=m.useMemo(()=>{const n=S.slice(0,8),o=n[0]||k;for(;n.length<8;)n.push(o);return n},[S]),z=Math.max(0,S.length-8),F=a=>{const n=a===1?g:u,o=new Date(n);o.setMonth(o.getMonth()-1),a===1?C(o):I(o)},P=a=>{const n=a===1?g:u,o=new Date(n);o.setMonth(o.getMonth()+1),a===1?C(o):I(o)},T=a=>{const n=a.getFullYear(),o=a.getMonth(),E=new Date(n,o,1).getDay(),H=new Date(n,o+1,0).getDate(),se=new Date(n,o,0).getDate(),p=[];for(let d=E-1;d>=0;d--)p.push({day:se-d,isOtherMonth:!0});for(let d=1;d<=H;d++)p.push({day:d,isOtherMonth:!1});for(;p.length<42;)p.push({day:p.length-H-E+1,isOtherMonth:!0});return p},$=a=>a.toLocaleString("default",{month:"short",year:"numeric"}),K=T(g),Z=T(u),ee=typeof r.price=="number"?r.price:Number(r.price)||0,B=r.host?.created_at?new Date(r.host.created_at).getFullYear():"";return e.jsxs(s,{children:[e.jsx(te,{title:r.title||"Property Detail"}),e.jsx(ne,{}),e.jsxs("main",{className:"property-detail-page",children:[e.jsx("section",{className:"property-details-section",children:e.jsx(j,{children:e.jsx(h,{children:e.jsx(c,{lg:12,children:e.jsx(i,{className:"property-info-card",elevation:0,children:e.jsxs(h,{className:"align-items-center",children:[e.jsxs(c,{md:10,children:[e.jsx(t,{className:"property-title",component:"h1",children:r.title}),e.jsxs(s,{className:"property-meta",children:[e.jsxs(s,{className:"location",children:[e.jsx(ce,{sx:{fontSize:16}}),e.jsx("span",{children:r.location})]}),e.jsxs(s,{className:"rating",children:[e.jsx(s,{className:"stars",children:[...Array(5)].map((a,n)=>e.jsx(M,{sx:{fontSize:14,color:n<Math.round(l.average)?"#FFD700":"#e9ecef"}},n))}),e.jsxs(t,{className:"rating-text",children:["(",l.total,")"]})]})]})]}),e.jsx(c,{md:2,children:e.jsxs(s,{className:"booking-info",children:[e.jsxs(s,{className:"price",children:[e.jsxs(t,{component:"span",className:"price-amount",children:["$",ee]}),e.jsx(t,{component:"span",className:"price-period",children:"/night"})]}),e.jsx(x,{variant:"contained",className:"btn-book",onClick:()=>R.visit(`/booking?property_id=${r.id}`),children:"Book"})]})})]})})})})})}),e.jsx("section",{className:"gallery-section",children:e.jsx(j,{children:e.jsxs(s,{className:"gallery-grid-container",children:[e.jsxs(s,{className:"gallery-top-section",children:[e.jsx(s,{className:"gallery-large-item",children:e.jsx("button",{type:"button",className:"gallery-image-button",children:e.jsx("img",{src:f[0],alt:`${r.title} - 1`,className:"gallery-image"})})}),e.jsxs(s,{className:"gallery-right-section",children:[e.jsx(s,{className:"gallery-medium-item",children:e.jsx("button",{type:"button",className:"gallery-image-button",children:e.jsx("img",{src:f[1],alt:`${r.title} - 2`,className:"gallery-image"})})}),e.jsx(s,{className:"gallery-medium-item",children:e.jsx("button",{type:"button",className:"gallery-image-button",children:e.jsx("img",{src:f[2],alt:`${r.title} - 3`,className:"gallery-image"})})})]})]}),e.jsx(s,{className:"gallery-bottom-section",children:f.slice(3,8).map((a,n)=>e.jsx(s,{className:"gallery-small-item",children:e.jsxs("button",{type:"button",className:"gallery-image-button",children:[e.jsx("img",{src:a,alt:`${r.title} - ${n+4}`,className:"gallery-image"}),n===4&&z>0&&e.jsx(s,{className:"gallery-more-overlay",children:e.jsxs(t,{component:"span",children:["+",z," photos"]})})]})},n+3))})]})})}),e.jsx("section",{children:e.jsx(j,{className:"mt-4",children:e.jsxs(i,{className:"quick-info-section",elevation:0,children:[e.jsx(t,{className:"section-title",component:"h2",children:"Quick Info"}),e.jsxs(h,{className:"g-4",children:[e.jsx(c,{md:6,sm:6,children:e.jsxs(s,{className:"info-item d-flex gap-2",children:[e.jsx(s,{className:"info-icon",children:e.jsx(le,{sx:{color:"#AD542D",fontSize:"24px",width:"24px",height:"24px",mr:1.5}})}),e.jsxs(s,{className:"info-text",children:[e.jsx(t,{component:"span",className:"info-number",children:r.bedrooms}),e.jsx(t,{component:"span",className:"info-label",children:"Bedrooms"})]})]})}),e.jsx(c,{md:6,sm:6,children:e.jsxs(s,{className:"info-item d-flex gap-2",children:[e.jsx(s,{className:"info-icon",children:e.jsx(pe,{sx:{color:"#AD542D",fontSize:"24px",width:"24px",height:"24px",mr:1.5}})}),e.jsx(t,{component:"span",className:"info-number",children:r.bathrooms}),e.jsx(t,{component:"span",className:"info-label",children:"Bathrooms"})]})})]}),e.jsxs(h,{className:"g-4 mt-2",children:[e.jsx(c,{md:6,sm:6,children:e.jsxs(s,{className:"info-item d-flex gap-2",children:[e.jsx(s,{className:"info-icon",children:e.jsx(me,{sx:{color:"#AD542D",fontSize:"24px",width:"24px",height:"24px",mr:1.5}})}),e.jsxs(s,{className:"info-text",children:[e.jsx(t,{component:"span",className:"info-number",children:r.guests}),e.jsx(t,{component:"span",className:"info-label",children:"Guests"})]})]})}),e.jsx(c,{md:6,sm:6,children:e.jsxs(s,{className:"info-item d-flex gap-2",children:[e.jsx(s,{className:"info-icon",children:e.jsx(he,{sx:{color:"#AD542D",fontSize:"24px",width:"24px",height:"24px",mr:1.5}})}),e.jsx(t,{component:"span",className:"info-label",children:r.property_type||"Entire place"})]})})]})]})})}),e.jsx("section",{children:e.jsx(j,{className:"mt-4",children:e.jsx(h,{children:e.jsxs(c,{lg:12,children:[e.jsxs(i,{className:"host-section mt-4",elevation:0,children:[e.jsx(t,{className:"section-title",component:"h2",children:"About Your Host"}),e.jsxs(s,{className:"host-info",children:[e.jsx(s,{className:"host-avatar",children:e.jsx("img",{src:r.host?.profile_picture||"/images/popular-stay-1.svg",alt:r.host?.name||"Host",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})}),e.jsxs(s,{className:"host-details",sx:{flex:1},children:[e.jsxs(t,{className:"host-name",component:"h5",children:["Hosted by ",r.host?.name||"Host"]}),e.jsx(t,{className:"host-joined",children:B?`joined in ${B}`:""}),e.jsx(t,{className:"host-description",children:"Your host is committed to providing a comfortable stay. Feel free to message for any questions about the property or the area."}),e.jsx(x,{variant:"outlined",startIcon:e.jsx(de,{}),onClick:()=>R.visit(`/chat?host=${encodeURIComponent(r.host?.name||"")}&property=${encodeURIComponent(r.title)}`),sx:{mt:2,borderColor:"#AD542D",color:"#AD542D",textTransform:"none",fontWeight:600,borderRadius:2,px:3,"&:hover":{borderColor:"#78381C",bgcolor:"#FFF5F7"}},children:"Message"})]})]})]}),e.jsxs(i,{className:"about-section mt-4",elevation:0,children:[e.jsx(t,{className:"section-title",component:"h2",children:"About the Property"}),e.jsx(t,{className:"about-text",children:r.description||"No description available."})]}),e.jsxs(i,{className:"about-section mt-4",elevation:0,sx:{bgcolor:"#F9FAFB",border:"1px solid #E5E7EB"},children:[e.jsx(t,{className:"section-title",component:"h2",children:"Airport Pickup Service"}),e.jsxs(s,{sx:{mt:2},children:[e.jsx(Y,{control:e.jsx(G,{checked:b,onChange:a=>Q(a.target.checked),sx:{color:"#AD542D","&.Mui-checked":{color:"#AD542D"}}}),label:"Are you booking a pickup service?",sx:{mb:b?3:0}}),b&&e.jsx(s,{sx:{mt:2},children:e.jsxs(O,{spacing:3,children:[e.jsxs(s,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(je,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(s,{children:[e.jsx(t,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Airport"}),e.jsx(t,{sx:{fontWeight:600,color:"#222222"},children:N.airport})]})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(xe,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(s,{children:[e.jsx(t,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Pickup Time"}),e.jsxs(t,{sx:{fontWeight:600,color:"#222222"},children:[N.pickupStartTime," - ",N.pickupEndTime]})]})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(W,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(s,{children:[e.jsx(t,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Price"}),e.jsx(t,{sx:{fontWeight:600,color:"#222222",fontSize:"1.125rem"},children:N.price})]})]})]})})]})]}),e.jsxs(i,{className:"about-section mt-4",elevation:0,sx:{bgcolor:"#F9FAFB",border:"1px solid #E5E7EB"},children:[e.jsx(t,{className:"section-title",component:"h2",children:"Guided Tours Service"}),e.jsxs(s,{sx:{mt:2},children:[e.jsx(Y,{control:e.jsx(G,{checked:v,onChange:a=>X(a.target.checked),sx:{color:"#AD542D","&.Mui-checked":{color:"#AD542D"}}}),label:"Are you booking a guided tour?",sx:{mb:v?3:0}}),v&&e.jsx(s,{sx:{mt:2},children:e.jsxs(O,{spacing:3,children:[e.jsxs(s,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(ge,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(s,{children:[e.jsx(t,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Tour Description"}),e.jsx(t,{sx:{fontWeight:400,color:"#222222",fontSize:"0.9rem"},children:D.description})]})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(ue,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(s,{children:[e.jsx(t,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Duration"}),e.jsx(t,{sx:{fontWeight:600,color:"#222222"},children:D.duration})]})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[e.jsx(W,{sx:{color:"#AD542D",fontSize:24,mt:.5}}),e.jsxs(s,{children:[e.jsx(t,{sx:{fontSize:"0.875rem",color:"#717171",mb:.5},children:"Price"}),e.jsx(t,{sx:{fontWeight:600,color:"#222222",fontSize:"1.125rem"},children:D.price})]})]})]})})]})]}),e.jsxs(i,{className:"rules-section mt-4",elevation:0,children:[e.jsx(t,{className:"section-title",component:"h2",children:"Roles"}),e.jsx(s,{className:"rules-list",children:["Check-in: 3:00 PM - 10:00 PM","Check-out: 11:00 AM","No parties or events allowed","Pets allowed [with prior notification]","No smoking indoors"].map((a,n)=>e.jsxs(s,{className:"rule-item",children:[e.jsx(ie,{sx:{color:"#28a745",fontSize:16}}),e.jsx(t,{component:"span",children:a})]},n))})]}),e.jsxs(i,{className:"availability-section mt-4",elevation:0,children:[e.jsx(t,{className:"section-title",component:"h2",children:"Availability"}),e.jsxs(h,{children:[e.jsx(c,{md:6,children:e.jsxs(i,{className:"calendar-widget",elevation:0,children:[e.jsxs(s,{className:"calendar-header",children:[e.jsx(x,{size:"small",onClick:()=>F(1),children:e.jsx(_,{})}),e.jsx(t,{component:"span",className:"month-year",children:$(g)}),e.jsx(x,{size:"small",onClick:()=>P(1),children:e.jsx(L,{})})]}),e.jsxs(s,{className:"calendar-grid",children:[e.jsx(s,{className:"calendar-weekdays",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(a=>e.jsx(s,{children:a},a))}),e.jsx(s,{className:"calendar-days",children:K.slice(0,35).map((a,n)=>e.jsx(s,{className:`day ${a.isOtherMonth?"other-month":""} ${!a.isOtherMonth&&a.day===V?"selected start-range":""}`,onClick:()=>!a.isOtherMonth&&q(a.day),children:a.day},n))})]})]})}),e.jsx(c,{md:6,children:e.jsxs(i,{className:"calendar-widget",elevation:0,children:[e.jsxs(s,{className:"calendar-header",children:[e.jsx(x,{size:"small",onClick:()=>F(2),children:e.jsx(_,{})}),e.jsx(t,{component:"span",className:"month-year",children:$(u)}),e.jsx(x,{size:"small",onClick:()=>P(2),children:e.jsx(L,{})})]}),e.jsxs(s,{className:"calendar-grid",children:[e.jsx(s,{className:"calendar-weekdays",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(a=>e.jsx(s,{children:a},a))}),e.jsx(s,{className:"calendar-days",children:Z.slice(0,35).map((a,n)=>e.jsx(s,{className:`day ${a.isOtherMonth?"other-month":""} ${!a.isOtherMonth&&a.day===U?"selected single":""}`,onClick:()=>!a.isOtherMonth&&J(a.day),children:a.day},n))})]})]})})]})]}),e.jsxs(s,{className:"reviews-section mt-4",children:[e.jsxs(h,{children:[e.jsxs(t,{className:"reviews-title",component:"h2",children:["Reviews (",l.total,")"]}),e.jsx(c,{lg:8,children:e.jsx(s,{className:"reviews-list",children:w.length>0?w.map(a=>e.jsxs(s,{className:"review-item",children:[e.jsxs(s,{className:"reviewer-info",children:[e.jsx(s,{className:"reviewer-avatar",children:e.jsx("img",{src:a.user?.profile_picture||"/images/popular-stay-1.svg",alt:a.user?.name||"Reviewer"})}),e.jsx(t,{className:"reviewer-name",children:a.user?.name}),e.jsx(t,{className:"review-date",children:a.created_at})]}),e.jsxs(s,{className:"review-content",children:[e.jsx(s,{className:"stars",children:[...Array(5)].map((n,o)=>e.jsx(M,{sx:{fontSize:14,color:o<a.rating?"#ffc107":"#e9ecef"}},o))}),e.jsx(t,{className:"review-text",children:a.comment}),e.jsx(t,{className:"helpful-text",children:"Was this review helpful to you?"})]})]},a.id)):e.jsx(t,{sx:{color:"#717171"},children:"No reviews yet."})})}),e.jsx(c,{lg:4,children:e.jsxs(i,{className:"rating-summary",elevation:0,children:[e.jsxs(s,{className:"average-rating",children:[e.jsx(t,{className:"rating-title",children:"Average rating"}),e.jsxs(t,{className:"rating-score",children:[l.average,"/5"]}),e.jsx(s,{className:"stars",children:[...Array(5)].map((a,n)=>e.jsx(M,{sx:{fontSize:16,color:n<Math.round(l.average)?"#ffc107":"#e9ecef"}},n))}),e.jsxs(t,{className:"total-reviews",children:["(",l.total," reviews)"]})]}),e.jsx(s,{className:"rating-breakdown",children:[5,4,3,2,1].map(a=>{const n=l.breakdown[a]??0,o=l.total>0?n/l.total*100:0;return e.jsxs(s,{className:"rating-bar",children:[e.jsxs(t,{className:"rating-label",children:[a," star"]}),e.jsx(s,{className:"bar-container",children:e.jsx(s,{className:"bar-fill",sx:{width:`${o}%`}})}),e.jsx(t,{className:"rating-count",children:n})]},a)})})]})})]}),e.jsx(s,{className:"text-center mt-4",children:e.jsx(x,{className:"explore-more",variant:"contained",children:"Explore More"})})]})]})})})}),e.jsx("section",{className:"popular-stays-section",children:e.jsxs(j,{children:[e.jsx(t,{className:"section-title",component:"h2",children:"Popular Stays Near You"}),e.jsx(h,{className:"g-4",children:A.length>0?A.map(a=>e.jsx(c,{lg:4,md:6,children:e.jsx(oe,{image:a.image||k,title:a.title,location:a.location,price:typeof a.price=="number"?a.price:Number(a.price)||0,id:a.id})},a.id)):e.jsx(c,{lg:12,children:e.jsx(t,{sx:{color:"#717171"},children:"No related properties at the moment."})})})]})})]}),e.jsx(re,{})]})}export{Le as default};
