import{r as p,j as e,H as J,a as k}from"./app-CzLFsAEq.js";import{H as K}from"./HostLayout-CVIq4_li.js";import{T as Q}from"./Toast-Cw_dVvEy.js";import{A as U}from"./ArrowBack-V4F-Urv5.js";import{C as X,a as Z}from"./ChevronRight-Iki0BxXq.js";import{B as F,S as y,a as j,P as ee}from"./ArrowDropDown-DwblFUVA.js";import{C as te,a as se}from"./CardContent-BcVxsu4u.js";import{T as u,B as d}from"./use-language-Dm9Rx_bi.js";import{R as w,C}from"./Row-CBMI7uZy.js";import{T as b,F as B,I as W,S as z}from"./TextField-55oExwhq.js";/* empty css            */import"./KeyboardArrowDown-C5jSsfdf.js";import"./Logout-Can8nRNp.js";import"./Hotel-Z-NODnXm.js";import"./Message-BAhGkiVK.js";import"./Container-B4L-e_Ox.js";import"./CheckCircle-C32MAtuu.js";import"./Close-CC3H5YgY.js";import"./Snackbar-D_yGiSwz.js";import"./useFormControl-1318mGBd.js";function Se(){const[H,v]=p.useState(!1),[g,M]=p.useState(new Date),[a,A]=p.useState(null),[l,S]=p.useState(null),[i,f]=p.useState({guest:"",guestEmail:"",guestPhone:"",property:"",checkin:"",checkout:"",status:"Pending",amount:""}),I=[{id:1,title:"Luxury Beachfront Villa",location:"Malibu, California"},{id:2,title:"Modern Apartment",location:"Los Angeles, CA"},{id:3,title:"Cozy Studio",location:"San Francisco, CA"}],P=()=>{const t=new Date(g);t.setMonth(t.getMonth()-1),M(t)},E=()=>{const t=new Date(g);t.setMonth(t.getMonth()+1),M(t)},$=t=>{const s=t.getFullYear(),o=t.getMonth(),r=new Date(s,o,1).getDay(),c=new Date(s,o+1,0).getDate(),h=new Date(s,o,0).getDate(),x=[];for(let n=r-1;n>=0;n--){const m=new Date(s,o-1,h-n);m.setHours(0,0,0,0),x.push({day:h-n,isOtherMonth:!0,date:m})}for(let n=1;n<=c;n++){const m=new Date(s,o,n);m.setHours(0,0,0,0),x.push({day:n,isOtherMonth:!1,date:m})}for(;x.length<42;){const n=x.length-c-r+1,m=new Date(s,o+1,n);m.setHours(0,0,0,0),x.push({day:n,isOtherMonth:!0,date:m})}return x},R=t=>t.toLocaleString("default",{month:"short",year:"numeric"}),O=t=>{const s=new Date(t);if(s.setHours(0,0,0,0),!a||a&&l){A(new Date(s)),S(null);const o=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`;f(r=>({...r,checkin:o,checkout:""}))}else if(a&&!l){const o=new Date(a);if(o.setHours(0,0,0,0),s>o){S(new Date(s));const r=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`;f(c=>({...c,checkout:r}))}else if(s<o){A(new Date(s)),S(null);const r=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`;f(c=>({...c,checkin:r,checkout:""}))}}},N=t=>{if(!a||!l)return!1;const s=new Date(t);s.setHours(0,0,0,0);const o=new Date(a);o.setHours(0,0,0,0);const r=new Date(l);return r.setHours(0,0,0,0),s>=o&&s<=r},L=t=>{if(!a)return!1;const s=new Date(t);s.setHours(0,0,0,0);const o=new Date(a);return o.setHours(0,0,0,0),s.getTime()===o.getTime()},q=t=>{if(!l)return!1;const s=new Date(t);s.setHours(0,0,0,0);const o=new Date(l);return o.setHours(0,0,0,0),s.getTime()===o.getTime()},Y=t=>{const s=new Date;s.setHours(0,0,0,0);const o=new Date(t);return o.setHours(0,0,0,0),o<s},G=p.useMemo(()=>$(g),[g]),D=t=>{const{name:s,value:o}=t.target;f(r=>({...r,[s]:o}))},T=(t,s)=>{f(o=>({...o,[t]:s}))},V=t=>{t.preventDefault(),console.log("Booking data:",i),v(!0),setTimeout(()=>{k.visit("/host/bookings")},1500)},_=()=>{v(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(J,{title:"Add Booking"}),e.jsxs(K,{title:"Add Booking",children:[e.jsx(F,{startIcon:e.jsx(U,{}),onClick:()=>k.visit("/host/bookings"),sx:{mb:3,color:"#717171",textTransform:"none","&:hover":{bgcolor:"#F9FAFB",color:"#222222"}},children:"Back to Bookings"}),e.jsx(te,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:2},children:e.jsxs(se,{sx:{p:{xs:2,md:4}},children:[e.jsx(u,{variant:"h5",sx:{fontWeight:700,color:"#222222",mb:4},children:"Booking Information"}),e.jsxs("form",{onSubmit:V,children:[e.jsxs(w,{children:[e.jsx(C,{xs:12,md:6,lg:6,children:e.jsxs(y,{spacing:3,sx:{mb:{xs:3,md:0}},children:[e.jsx(b,{label:"Guest Name",name:"guest",value:i.guest,onChange:D,required:!0,fullWidth:!0}),e.jsx(b,{label:"Email Address",name:"guestEmail",type:"email",value:i.guestEmail,onChange:D,required:!0,fullWidth:!0}),e.jsx(b,{label:"Phone Number",name:"guestPhone",value:i.guestPhone,onChange:D,required:!0,fullWidth:!0}),e.jsxs(B,{fullWidth:!0,required:!0,children:[e.jsx(W,{children:"Property"}),e.jsx(z,{value:i.property,onChange:t=>T("property",t.target.value),label:"Property",children:I.map(t=>e.jsxs(j,{value:t.title,children:[t.title," - ",t.location]},t.id))})]})]})}),e.jsx(C,{xs:12,md:6,children:e.jsxs(y,{spacing:3,children:[e.jsx(b,{label:"Total Amount",name:"amount",type:"number",value:i.amount,onChange:D,required:!0,fullWidth:!0,InputProps:{startAdornment:e.jsx(u,{sx:{marginInlineEnd:1,color:"#717171"},children:"$"})}}),e.jsxs(B,{fullWidth:!0,children:[e.jsx(W,{children:"Status"}),e.jsxs(z,{value:i.status,onChange:t=>T("status",t.target.value),label:"Status",children:[e.jsx(j,{value:"Pending",children:"Pending"}),e.jsx(j,{value:"Confirmed",children:"Confirmed"}),e.jsx(j,{value:"Cancelled",children:"Cancelled"})]})]})]})})]}),e.jsx(w,{className:"mt-4",children:e.jsxs(C,{xs:12,children:[e.jsx(u,{variant:"h6",sx:{fontWeight:700,color:"#222222",mb:3},children:"Select Dates"}),e.jsx(d,{sx:{width:"100%",maxWidth:{xs:"100%",lg:"500px"},mx:"auto",px:{xs:0,sm:1}},children:e.jsxs(ee,{elevation:0,sx:{backgroundColor:"#FFFFFF",color:"#1F1F1F",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",borderRadius:{xs:"12px",md:"20px"},boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"1px solid #E5E7EB",padding:{xs:"12px",sm:"16px",md:"20px"},width:"100%",maxWidth:"100%",boxSizing:"border-box",overflow:"hidden"},children:[e.jsxs(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:{xs:2,md:2.5},pb:{xs:1,md:1.5},borderBottom:"2px solid #F3F4F6"},children:[e.jsx(F,{size:"small",onClick:P,sx:{minWidth:{xs:32,md:36},height:{xs:32,md:36},borderRadius:"50%",bgcolor:"#F9FAFB",color:"#717171","&:hover":{bgcolor:"#F3F4F6",color:"#222222"}},children:e.jsx(X,{sx:{fontSize:{xs:18,md:20}}})}),e.jsx(u,{component:"span",sx:{fontWeight:700,color:"#222222",fontSize:{xs:14,md:16},letterSpacing:.5},children:R(g)}),e.jsx(F,{size:"small",onClick:E,sx:{minWidth:{xs:32,md:36},height:{xs:32,md:36},borderRadius:"50%",bgcolor:"#F9FAFB",color:"#717171","&:hover":{bgcolor:"#F3F4F6",color:"#222222"}},children:e.jsx(Z,{sx:{fontSize:{xs:18,md:20}}})})]}),e.jsx(d,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,md:.5},mb:{xs:1,md:1.5},width:"100%"},children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(t=>e.jsx(d,{sx:{textAlign:"center",fontWeight:700,color:"#717171",fontSize:{xs:10,md:11},py:{xs:.75,md:1},textTransform:"uppercase",letterSpacing:.5,minWidth:0},children:t},t))}),e.jsx(d,{sx:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:{xs:.25,md:.5},width:"100%"},children:G.slice(0,35).map((t,s)=>{const o=!t.isOtherMonth&&a&&l&&N(t.date),r=!t.isOtherMonth&&a&&L(t.date),c=!t.isOtherMonth&&l&&q(t.date),h=r||c,x=!t.isOtherMonth&&Y(t.date),n=t.isOtherMonth||x;return e.jsx(d,{onClick:()=>!n&&O(t.date),sx:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",cursor:n?"not-allowed":"pointer",color:n?"#D1D5DB":h?"#FFFFFF":"#374151",bgcolor:h?"#AD542D":o?"#FFF5F5":"transparent",borderRadius:r?{xs:"4px 0 0 4px",md:"8px 0 0 8px"}:c?{xs:"0 4px 4px 0",md:"0 8px 8px 0"}:o?0:{xs:1,md:2},fontSize:{xs:12,md:13},fontWeight:h?700:500,minHeight:{xs:32,md:36},transition:"all 0.2s ease",position:"relative",opacity:n?.4:1,minWidth:0,width:"100%",maxWidth:"100%","&:hover":{bgcolor:n?"transparent":h?"#78381C":o?"#FFF5F5":"#F3F4F6",transform:n?"none":"scale(1.05)",color:n?"#D1D5DB":h?"#FFFFFF":"#222222",opacity:n?.4:1},"&:active":{transform:n?"none":"scale(0.95)"}},children:t.day},s)})}),e.jsxs(d,{sx:{mt:{xs:2,md:2.5},pt:{xs:1,md:1.5},borderTop:"1px solid #F3F4F6",display:"flex",justifyContent:"space-around",gap:{xs:1,md:2}},children:[e.jsxs(d,{sx:{textAlign:"center"},children:[e.jsx(u,{sx:{fontSize:{xs:11,md:12},color:"#717171",fontWeight:500},children:"Check-in"}),e.jsx(u,{sx:{fontSize:{xs:12,md:13},color:i.checkin?"#222222":"#9CA3AF",fontWeight:600,mt:.5},children:i.checkin||"Not selected"})]}),e.jsxs(d,{sx:{textAlign:"center"},children:[e.jsx(u,{sx:{fontSize:{xs:11,md:12},color:"#717171",fontWeight:500},children:"Check-out"}),e.jsx(u,{sx:{fontSize:{xs:12,md:13},color:i.checkout?"#222222":"#9CA3AF",fontWeight:600,mt:.5},children:i.checkout||"Not selected"})]})]})]},`calendar-${g.getTime()}-${a?.getTime()}-${l?.getTime()}`)})]})}),e.jsx(w,{className:"mt-4",children:e.jsx(C,{xs:12,children:e.jsxs(y,{direction:{xs:"column",sm:"row"},spacing:2,useFlexGap:!0,justifyContent:"flex-end",sx:{width:"100%"},children:[e.jsx(F,{variant:"outlined",onClick:()=>k.visit("/host/bookings"),sx:{textTransform:"none",borderColor:"#D1D5DB",color:"#717171","&:hover":{borderColor:"#9CA3AF",bgcolor:"#F9FAFB"}},children:"Cancel"}),e.jsx(F,{type:"submit",variant:"contained",sx:{bgcolor:"#AD542D",textTransform:"none",fontWeight:700,"&:hover":{bgcolor:"#78381C"}},children:"Add Booking"})]})})})]})]})}),e.jsx(Q,{open:H,onClose:_,message:"Booking created successfully!",severity:"success"})]})]})}export{Se as default};
