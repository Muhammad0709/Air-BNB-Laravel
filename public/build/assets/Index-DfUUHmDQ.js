import{b as W,r,j as e,a as i}from"./app-DPMShFNb.js";import{H as y}from"./HostLayout-74dRgXit.js";import{D as E}from"./DeleteConfirmationDialog-BOeZlxF_.js";import{A as B}from"./ActionsMenu-C74HlsRC.js";import{T as P}from"./Toast-hCERGjU8.js";import{S as I}from"./Search-e9BeYHHJ.js";import{R,C as k}from"./Row-BfjExkrK.js";import{C as L,a as O}from"./CardContent-CCNmTrDh.js";import{S as d,B as $}from"./ArrowDropDown-Bha2pyt8.js";import{T as h,B as z}from"./use-language-CmxA9uZu.js";import{T as H}from"./TextField-B8uoRqXm.js";import{I as M}from"./InputAdornment-DrXK00RO.js";import{T as _,a as G,b as N,c as x,d as t,e as V}from"./TableRow-B6GwIMMY.js";import{C as K}from"./Chip-CbAwEv6f.js";/* empty css            */import"./KeyboardArrowDown-Uk-NVEZQ.js";import"./Logout-B8t_Znpj.js";import"./Hotel-7s_TuHw4.js";import"./Message-BadViV_P.js";import"./Container-5wIIuBmG.js";import"./DialogTitle-TpsanqaU.js";import"./MoreVert-BvSd8qy7.js";import"./Edit-BAHm3ApA.js";import"./Delete-BoKJl8PU.js";import"./Visibility-DqaG7uxR.js";import"./CheckCircle-CCVmTUH8.js";import"./Close-DgQGqy2A.js";import"./Snackbar-CHODIIOr.js";import"./useFormControl-BHnHsWyz.js";const m="/images/popular-stay-1.svg";function Te(){const{properties:w,filters:v,statusOptions:U,approvalStatusOptions:X,flash:o}=W().props,[u,S]=r.useState(v.search||""),[b,n]=r.useState(!1),[f,a]=r.useState(null),[l,c]=r.useState({open:!1,message:"",severity:"success"});r.useEffect(()=>{o?.success&&c({open:!0,message:o.success,severity:"success"}),o?.error&&c({open:!0,message:o.error,severity:"error"})},[o?.success,o?.error]);const C=()=>{i.get("/host/properties",{search:u},{preserveState:!0})},g=w.data,j=s=>{switch(s){case"Approved":return"#10B981";case"Rejected":return"#EF4444";case"Pending":return"#F59E0B";default:return"#6B7280"}},T=s=>{a(s),n(!0)},A=()=>{f&&i.delete(`/host/properties/${f.id}`,{onSuccess:()=>{n(!1),a(null)}})},F=()=>{n(!1),a(null)};return e.jsxs(y,{title:"Manage Properties",children:[e.jsx(R,{children:e.jsx(k,{xs:12,children:e.jsx(L,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:"16px"},children:e.jsxs(O,{children:[e.jsxs(d,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(h,{variant:"h6",sx:{fontWeight:700,color:"#111827"},children:"My Properties"}),e.jsxs(d,{direction:{xs:"column",sm:"row"},spacing:2,useFlexGap:!0,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:[e.jsx(H,{value:u,onChange:s=>S(s.target.value),onKeyPress:s=>s.key==="Enter"&&C(),placeholder:"Search properties...",size:"small",sx:{width:{xs:"100%",sm:250}},InputProps:{startAdornment:e.jsx(M,{position:"start",children:e.jsx(I,{fontSize:"small",sx:{color:"#9CA3AF"}})})}}),e.jsx($,{variant:"contained",onClick:()=>i.visit("/host/properties/create"),fullWidth:window.innerWidth<600,sx:{bgcolor:"#AD542D",textTransform:"none",fontWeight:700,"&:hover":{bgcolor:"#78381C"}},children:"Add Property"})]})]}),e.jsx(_,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(G,{sx:{minWidth:800,width:"100%"},children:[e.jsx(N,{children:e.jsxs(x,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Property"}),e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Location"}),e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Price"}),e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Approval"}),e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx(V,{children:g.length===0?e.jsx(x,{children:e.jsx(t,{colSpan:5,sx:{textAlign:"center",py:4},children:e.jsx(h,{sx:{color:"#6B7280"},children:"No Property Found"})})}):g.map(s=>e.jsxs(x,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(t,{children:e.jsxs(d,{direction:"row",spacing:2,useFlexGap:!0,alignItems:"center",children:[e.jsx(z,{component:"img",src:s.image||m,alt:s.title,onError:D=>{const p=D.currentTarget;p.src.includes(m)?p.style.display="none":p.src=m},sx:{width:60,height:60,objectFit:"cover",borderRadius:1,bgcolor:"#F3F4F6",flexShrink:0}}),e.jsx(h,{sx:{fontWeight:600,color:"#111827"},children:s.title})]})}),e.jsx(t,{sx:{color:"#6B7280"},children:s.location}),e.jsxs(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:["$",s.price,"/night"]}),e.jsx(t,{children:e.jsx(K,{label:s.approval_status,size:"small",sx:{bgcolor:`${j(s.approval_status)}15`,color:j(s.approval_status),fontWeight:600,fontSize:12}})}),e.jsx(t,{children:e.jsx(B,{onView:()=>i.visit(`/host/properties/${s.id}`),onEdit:()=>i.visit(`/host/properties/${s.id}/edit`),onDelete:()=>T({id:s.id,title:s.title}),viewLabel:"View",editLabel:"Edit"})})]},s.id))})]})})]})})})}),e.jsx(E,{open:b,onClose:F,onConfirm:A,title:"Are you sure you want to delete this property?",itemName:"the property"}),e.jsx(P,{open:l.open,onClose:()=>c(s=>({...s,open:!1})),message:l.message,severity:l.severity})]})}export{Te as default};
