import{r as a,j as e,H as C,a as n}from"./app-DH8RAbgp.js";import{A as S}from"./AdminLayout-DfEmksyw.js";import{D as A}from"./DeleteConfirmationDialog-Cs05sMCk.js";import{A as y}from"./ActionsMenu-CQX1VW9D.js";import{S as T}from"./Search-DWH7TeVT.js";import{R as v,C as D}from"./Row-FEc7P5vD.js";import{C as W,a as B}from"./CardContent-CGZGtp0X.js";import{S as u,B as E}from"./Stack-BmpnduTl.js";import{T as l,B as F}from"./Box-mN5POti-.js";import{T as L}from"./TextField-DyAprLWg.js";import{I}from"./InputAdornment-CRHovBrS.js";import{T as R,a as P,b as k,c,d as s,e as z}from"./TableRow-DnQbE4yc.js";import{C as h}from"./Chip-D5Do_500.js";/* empty css            */import"./KeyboardArrowDown-DLNe-dfo.js";import"./Logout-dWDou4Qs.js";import"./People-DRjbFxAO.js";import"./Hotel-Bf5ID3j3.js";import"./Container-C7LiseE7.js";import"./DialogTitle-oyumWe03.js";import"./MoreVert-CNWtG-v5.js";import"./Edit-BIUtYDXc.js";import"./Delete-BXGO0ypF.js";import"./Visibility-y5GaBcx4.js";import"./CheckCircle-CN8qg8j9.js";import"./useFormControl-DPJaWqax.js";function pe(){const[o,x]=a.useState(""),[j,r]=a.useState(!1),[f,i]=a.useState(null),d=[{id:1,subject:"Payment issue with booking",user:"John Doe",email:"john@example.com",status:"Open",priority:"High",createdAt:"2025-01-15",updatedAt:"2025-01-16"},{id:2,subject:"Cancellation request",user:"Jane Smith",email:"jane@example.com",status:"In Progress",priority:"Medium",createdAt:"2025-01-14",updatedAt:"2025-01-15"},{id:3,subject:"Property inquiry",user:"Mike Johnson",email:"mike@example.com",status:"Resolved",priority:"Low",createdAt:"2025-01-13",updatedAt:"2025-01-14"},{id:4,subject:"Account access problem",user:"Sarah Williams",email:"sarah@example.com",status:"Open",priority:"High",createdAt:"2025-01-12",updatedAt:"2025-01-12"},{id:5,subject:"Refund request",user:"David Brown",email:"david@example.com",status:"In Progress",priority:"Medium",createdAt:"2025-01-11",updatedAt:"2025-01-12"},{id:6,subject:"Technical support needed",user:"Emily Davis",email:"emily@example.com",status:"Resolved",priority:"Low",createdAt:"2025-01-10",updatedAt:"2025-01-11"}].filter(t=>t.subject.toLowerCase().includes(o.toLowerCase())||t.user.toLowerCase().includes(o.toLowerCase())||t.email.toLowerCase().includes(o.toLowerCase())),p=t=>{switch(t){case"Open":return"#EF4444";case"In Progress":return"#F59E0B";case"Resolved":return"#10B981";case"Closed":return"#717171";default:return"#717171"}},m=t=>{switch(t){case"High":return"#EF4444";case"Medium":return"#F59E0B";case"Low":return"#10B981";default:return"#717171"}},g=t=>{i(t),r(!0)},w=()=>{f&&(r(!1),i(null))},b=()=>{r(!1),i(null)};return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:"Support Tickets"}),e.jsxs(S,{title:"Support Tickets",children:[e.jsx(v,{children:e.jsx(D,{xs:12,children:e.jsx(W,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:2},children:e.jsxs(B,{children:[e.jsxs(u,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:700,color:"#222222"},children:"All Support Tickets"}),e.jsxs(u,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:[e.jsx(L,{value:o,onChange:t=>x(t.target.value),placeholder:"Search tickets...",size:"small",sx:{width:{xs:"100%",sm:250}},InputProps:{startAdornment:e.jsx(I,{position:"start",children:e.jsx(T,{fontSize:"small",sx:{color:"#9CA3AF"}})})}}),e.jsx(E,{variant:"contained",onClick:()=>n.visit("/admin/support-tickets/create"),sx:{bgcolor:"#AD542D",textTransform:"none",fontWeight:700,"&:hover":{bgcolor:"#78381C"}},children:"Create Ticket"})]})]}),e.jsx(R,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(P,{sx:{minWidth:800,width:"100%"},children:[e.jsx(k,{children:e.jsxs(c,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Subject"}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"User"}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Email"}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Status"}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Priority"}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Created"}),e.jsx(s,{sx:{fontWeight:700,color:"#222222",whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx(z,{children:d.length===0?e.jsx(c,{children:e.jsx(s,{colSpan:7,sx:{border:"none",py:8},children:e.jsx(F,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:e.jsx(l,{variant:"body1",sx:{color:"#717171",fontWeight:600},children:"No data found"})})})}):d.map(t=>e.jsxs(c,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(s,{children:e.jsx(l,{sx:{fontWeight:600,color:"#222222"},children:t.subject})}),e.jsx(s,{sx:{color:"#717171"},children:t.user}),e.jsx(s,{sx:{color:"#717171"},children:t.email}),e.jsx(s,{children:e.jsx(h,{label:t.status,size:"small",sx:{bgcolor:`${p(t.status)}15`,color:p(t.status),fontWeight:600,fontSize:12}})}),e.jsx(s,{children:e.jsx(h,{label:t.priority,size:"small",sx:{bgcolor:`${m(t.priority)}15`,color:m(t.priority),fontWeight:600,fontSize:12}})}),e.jsx(s,{sx:{color:"#717171"},children:new Date(t.createdAt).toLocaleDateString()}),e.jsx(s,{children:e.jsx(y,{onView:()=>n.visit(`/admin/support-tickets/${t.id}`),onEdit:()=>n.visit(`/admin/support-tickets/${t.id}/edit`),onDelete:()=>g({id:t.id,subject:t.subject}),viewLabel:"View",editLabel:"Edit"})})]},t.id))})]})})]})})})}),e.jsx(A,{open:j,onClose:b,onConfirm:w,title:"Are you sure you want to delete this ticket?",itemName:"the ticket"})]})]})}export{pe as default};
