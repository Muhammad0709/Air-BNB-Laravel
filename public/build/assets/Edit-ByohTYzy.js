import{b as P,u as T,r as E,j as e,a as h}from"./app-zSN1GCjy.js";import{A as w}from"./AdminLayout-D3JBwex7.js";import{A as W}from"./ArrowBack-Cjge8MSk.js";import{C as F}from"./CloudUpload-Co9BIEV6.js";import{D as R}from"./Delete-BPjgLMPw.js";import{B as u,S as g,a as i}from"./ArrowDropDown-D1rz-Ig3.js";import{C as k,a as q}from"./CardContent-90scPfYR.js";import{T as d,B as b}from"./use-language-v_QDezVf.js";import{R as m,C as c}from"./Row-C-WczzeI.js";import{T as l,F as D,I as A,S as I}from"./TextField-zd5H6sDy.js";/* empty css            */import"./KeyboardArrowDown-Bk3dO2hJ.js";import"./Logout-Ds_Pzf3o.js";import"./People-v_3OJu9h.js";import"./Hotel-rPAB0LIo.js";import"./Container-CeqV11MO.js";import"./useFormControl-BhmQ7WwV.js";function re(){const{property:o}=P().props,{data:s,setData:x,put:G,processing:j,errors:r}=T({title:o?.title||"",location:o?.location||"",price:o?.price?.toString()||"",bedrooms:o?.bedrooms?.toString()||"",bathrooms:o?.bathrooms?.toString()||"",guests:o?.guests?.toString()||"",property_type:o?.property_type||"",status:o?.status||"Active",description:o?.description||"",image:null}),[v,f]=E.useState(o?.image||null),n=t=>{const{name:a,value:p}=t.target;x(a,p)},C=(t,a)=>{x(t,a)},y=t=>{const a=t.target.files?.[0];if(a){x("image",a);const p=new FileReader;p.onloadend=()=>{f(p.result)},p.readAsDataURL(a)}},S=()=>{x("image",null),f(null)},B=t=>{t.preventDefault(),h.post(`/admin/properties/${o.id}`,{...s,_method:"PUT"},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{h.visit("/admin/properties")}})};return e.jsxs(w,{title:"Edit Property",children:[e.jsx(u,{startIcon:e.jsx(W,{}),onClick:()=>h.visit("/admin/properties"),sx:{mb:3,color:"#6B7280",textTransform:"none","&:hover":{bgcolor:"#F9FAFB",color:"#111827"}},children:"Back to Properties"}),e.jsx(k,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:"16px"},children:e.jsxs(q,{sx:{p:{xs:2,md:4}},children:[e.jsx(d,{variant:"h5",sx:{fontWeight:700,color:"#111827",mb:4},children:"Edit Property Information"}),e.jsxs("form",{onSubmit:B,children:[e.jsxs(m,{children:[e.jsx(c,{xs:12,md:6,children:e.jsxs(g,{spacing:3,children:[e.jsx(l,{label:"Property Title",name:"title",value:s.title,onChange:n,required:!0,fullWidth:!0,error:!!r.title,helperText:r.title,sx:{mb:2}}),e.jsx(l,{label:"Location",name:"location",value:s.location,onChange:n,required:!0,fullWidth:!0,placeholder:"e.g., Malibu, California",error:!!r.location,helperText:r.location}),e.jsx(l,{label:"Price per Night",name:"price",type:"number",value:s.price,onChange:n,required:!0,fullWidth:!0,error:!!r.price,helperText:r.price,InputProps:{startAdornment:e.jsx(d,{sx:{marginInlineEnd:1,color:"#6B7280"},children:"$"})}})]})}),e.jsx(c,{xs:12,md:6,children:e.jsxs(g,{spacing:3,children:[e.jsxs(D,{fullWidth:!0,required:!0,error:!!r.property_type,children:[e.jsx(A,{children:"Property Type"}),e.jsxs(I,{value:s.property_type,onChange:t=>C("property_type",t.target.value),label:"Property Type",children:[e.jsx(i,{value:"apartment",children:"Apartment"}),e.jsx(i,{value:"house",children:"House"}),e.jsx(i,{value:"villa",children:"Villa"}),e.jsx(i,{value:"studio",children:"Studio"}),e.jsx(i,{value:"condo",children:"Condo"})]})]}),e.jsx(l,{label:"Bedrooms",name:"bedrooms",type:"number",value:s.bedrooms,onChange:n,required:!0,fullWidth:!0,error:!!r.bedrooms,helperText:r.bedrooms}),e.jsx(l,{label:"Bathrooms",name:"bathrooms",type:"number",value:s.bathrooms,onChange:n,required:!0,fullWidth:!0,error:!!r.bathrooms,helperText:r.bathrooms}),e.jsx(l,{label:"Guests",name:"guests",type:"number",value:s.guests,onChange:n,required:!0,fullWidth:!0,error:!!r.guests,helperText:r.guests})]})})]}),e.jsx(m,{className:"mt-3",children:e.jsx(c,{xs:12,children:e.jsx(l,{label:"Description",name:"description",value:s.description,onChange:n,fullWidth:!0,multiline:!0,rows:6,placeholder:"Describe the property in detail...",error:!!r.description,helperText:r.description})})}),e.jsx(m,{className:"mt-4",children:e.jsx(c,{xs:12,children:e.jsxs(D,{fullWidth:!0,children:[e.jsx(A,{children:"Status"}),e.jsxs(I,{value:s.status,onChange:t=>C("status",t.target.value),label:"Status",children:[e.jsx(i,{value:"Pending",children:"Pending"}),e.jsx(i,{value:"Active",children:"Active"}),e.jsx(i,{value:"Inactive",children:"Inactive"})]})]})})}),e.jsx(m,{className:"mt-4",children:e.jsxs(c,{xs:12,children:[e.jsx(d,{variant:"h6",sx:{fontWeight:700,color:"#111827",mb:2},children:"Property Image"}),v?e.jsxs(b,{sx:{position:"relative",width:"100%",maxWidth:600},children:[e.jsx(b,{component:"img",src:v,alt:"Preview",sx:{width:"100%",height:300,objectFit:"cover",borderRadius:"12px",border:"1px solid #E5E7EB",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),e.jsxs(g,{direction:"row",spacing:2,useFlexGap:!0,sx:{mt:2},children:[e.jsxs(u,{component:"label",variant:"outlined",startIcon:e.jsx(F,{}),onClick:t=>t.preventDefault(),sx:{textTransform:"none",borderRadius:"12px",borderColor:"#D1D5DD",color:"#6B7280","&:hover":{borderColor:"#9CA3AF",bgcolor:"#F9FAFB"}},children:["Change Image",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:y})]}),e.jsx(u,{variant:"outlined",startIcon:e.jsx(R,{}),onClick:S,sx:{textTransform:"none",borderRadius:"12px",borderColor:"#EF4444",color:"#EF4444","&:hover":{borderColor:"#DC2626",bgcolor:"#FEF2F2"}},children:"Remove"})]})]}):e.jsxs(b,{component:"label",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:300,border:"2px dashed #D1D5DD",borderRadius:"12px",bgcolor:"#F9FAFB",cursor:"pointer",transition:"all 0.3s ease","&:hover":{borderColor:"#AD542D",bgcolor:"#FFF5F3"}},children:[e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:y}),e.jsx(F,{sx:{fontSize:48,color:"#9CA3AF",mb:2}}),e.jsx(d,{sx:{fontWeight:600,color:"#111827",mb:1},children:"Click to upload image"}),e.jsx(d,{sx:{fontSize:14,color:"#6B7280"},children:"PNG, JPG, GIF up to 2MB"})]}),r.image&&e.jsx(d,{sx:{color:"#EF4444",fontSize:12,mt:1},children:r.image})]})}),e.jsx(m,{className:"mt-4",children:e.jsx(c,{xs:12,children:e.jsxs(g,{direction:{xs:"column",sm:"row"},spacing:2,useFlexGap:!0,justifyContent:"flex-end",sx:{width:"100%"},children:[e.jsx(u,{variant:"outlined",onClick:()=>h.visit("/admin/properties"),sx:{textTransform:"none",borderRadius:"12px",borderColor:"#D1D5DD",color:"#6B7280","&:hover":{borderColor:"#9CA3AF",bgcolor:"#F9FAFB"}},children:"Cancel"}),e.jsx(u,{type:"submit",variant:"contained",disabled:j,sx:{bgcolor:"#AD542D",textTransform:"none",borderRadius:"12px",fontWeight:700,"&:hover":{bgcolor:"#78381C"}},children:j?"Updating...":"Update Property"})]})})})]})]})})]})}export{re as default};
