import{b as S,r as n,j as e,a as o}from"./app-CshQHvoQ.js";import{A}from"./AdminLayout-Dl7jUtEX.js";import{D as v}from"./DeleteConfirmationDialog-DadbdbER.js";import{A as T}from"./ActionsMenu-CCaSvKRt.js";import{S as E}from"./Search-BY5zTcgc.js";import{R as y,C as W}from"./Row-C5SUOQ6D.js";import{C as F,a as R}from"./CardContent-BSJARNOA.js";import{S as m}from"./Stack-CAsQuehU.js";import{T as a}from"./Box-DVCHXNWp.js";import{T as B}from"./TextField-aFRT8OcK.js";import{I}from"./InputAdornment-B95WK0lh.js";import{T as U,a as k,b as L,c as l,d as t,e as $}from"./TableRow-B-13Q1vm.js";import{A as O}from"./KeyboardArrowDown-DZfY7zsm.js";/* empty css            */import"./Logout-BqnYrbgZ.js";import"./People-B-w_Zpk-.js";import"./Hotel-DnwjP3cQ.js";import"./use-language-DEA0B3GS.js";import"./MenuItem-CXWZNhxe.js";import"./Container-B4HNsH9A.js";import"./DialogTitle-Bf3KCtvy.js";import"./MoreVert-B44Pf2Ci.js";import"./Edit-DBhGOSnc.js";import"./Delete-mtpXMNXf.js";import"./Visibility-DEIf-q5b.js";import"./CheckCircle-DdUDl4QP.js";import"./useFormControl-BbhxE_0w.js";function pe(){const{users:p,filters:h}=S().props,[x,u]=n.useState(h?.search||""),[f,s]=n.useState(!1),[d,i]=n.useState(null),j=r=>r.split(" ").map(w=>w[0]).join("").toUpperCase(),g=r=>{u(r),o.get("/admin/users",{search:r},{preserveState:!0,replace:!0})},b=r=>{i(r),s(!0)},C=()=>{d&&o.delete(`/admin/users/${d.id}`,{onSuccess:()=>{s(!1),i(null)}})},D=()=>{s(!1),i(null)},c=p?.data||[];return e.jsxs(A,{title:"Users",children:[e.jsx(y,{children:e.jsx(W,{xs:12,children:e.jsx(F,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:"16px"},children:e.jsxs(R,{children:[e.jsxs(m,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#111827"},children:"All Users"}),e.jsx(B,{value:x,onChange:r=>g(r.target.value),placeholder:"Search users...",size:"small",variant:"outlined",sx:{width:{xs:"100%",sm:250},"& .MuiOutlinedInput-root":{borderRadius:"10px !important","& fieldset":{borderColor:"#E5E7EB",borderRadius:"10px !important"},"&:hover fieldset":{borderColor:"#D1D5DD",borderRadius:"10px !important"},"&.Mui-focused fieldset":{borderColor:"#AD542D",borderRadius:"10px !important"}}},InputProps:{startAdornment:e.jsx(I,{position:"start",children:e.jsx(E,{fontSize:"small",sx:{color:"#9CA3AF"}})})}})]}),e.jsx(U,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs(k,{sx:{minWidth:800,width:"100%"},children:[e.jsx(L,{children:e.jsxs(l,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Name"}),e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Email"}),e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Joined"}),e.jsx(t,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:"Actions"})]})}),e.jsx($,{children:c.length===0?e.jsx(l,{children:e.jsx(t,{colSpan:4,sx:{textAlign:"center",py:4},children:e.jsx(a,{sx:{color:"#6B7280"},children:"No users found"})})}):c.map(r=>e.jsxs(l,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(t,{children:e.jsxs(m,{direction:"row",spacing:2,useFlexGap:!0,alignItems:"center",children:[e.jsx(O,{sx:{width:40,height:40,bgcolor:"#AD542D",fontSize:"1rem",fontWeight:600,cursor:"pointer"},onClick:()=>o.visit(`/admin/users/${r.id}`),children:j(r.name)}),e.jsx(a,{sx:{fontWeight:600,color:"#111827",cursor:"pointer","&:hover":{color:"#AD542D"}},onClick:()=>o.visit(`/admin/users/${r.id}`),children:r.name})]})}),e.jsx(t,{sx:{color:"#6B7280"},children:r.email}),e.jsx(t,{sx:{color:"#6B7280"},children:new Date(r.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx(t,{children:e.jsx(T,{onView:()=>o.visit(`/admin/users/${r.id}`),onEdit:()=>o.visit(`/admin/users/${r.id}/edit`),onDelete:()=>b({id:r.id,name:r.name}),viewLabel:"View",editLabel:"Edit"})})]},r.id))})]})})]})})})}),e.jsx(v,{open:f,onClose:D,onConfirm:C,title:"Are you sure you want to delete this user?",itemName:"the user"})]})}export{pe as default};
