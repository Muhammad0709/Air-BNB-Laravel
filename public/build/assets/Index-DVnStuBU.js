import{b as v,r as a,j as e,a as t}from"./app-BZPU0TFF.js";import{A}from"./AdminLayout-DyAVliD9.js";import{D as T}from"./DeleteConfirmationDialog-CXjyoejO.js";import{A as W}from"./ActionsMenu-Cy64oQsl.js";import{S as E}from"./Search-DuoEWiNr.js";import{u as F,T as l}from"./use-language-CBvUMsfX.js";import{R,C as y}from"./Row-Cvotj-uB.js";import{C as B,a as I}from"./CardContent-B4p7dtsI.js";import{S as p}from"./ArrowDropDown-CdXTbv6H.js";import{T as _}from"./TextField-BJkH4-kg.js";import{I as L}from"./InputAdornment-BKwydW9g.js";import{T as k,a as $,b as O,c as d,d as s,e as U}from"./TableRow-DjNM7BuE.js";import{A as z}from"./Menu-CWbzmUzk.js";/* empty css            */import"./BookOnline-B3dxxSnO.js";import"./People-IFCHyTrU.js";import"./Hotel-TiQRpwwi.js";import"./Container-D7o5WA9F.js";import"./DialogTitle-BUJmJR9v.js";import"./MoreVert-CbBXs543.js";import"./Edit-C6QnM-4v.js";import"./Delete-Cvr-9oKP.js";import"./Visibility-BFqaDv6_.js";import"./CheckCircle-Dj2hi7qe.js";function me(){const{t:o}=F(),{users:h,filters:x}=v().props,[u,f]=a.useState(x?.search||""),[j,i]=a.useState(!1),[c,n]=a.useState(null),g=r=>r.split(" ").map(S=>S[0]).join("").toUpperCase(),b=r=>{f(r),t.get("/admin/users",{search:r},{preserveState:!0,replace:!0})},C=r=>{n(r),i(!0)},D=()=>{c&&t.delete(`/admin/users/${c.id}`,{onSuccess:()=>{i(!1),n(null)}})},w=()=>{i(!1),n(null)},m=h?.data||[];return e.jsxs(A,{title:o("admin.users.title"),children:[e.jsx(R,{children:e.jsx(y,{xs:12,children:e.jsx(B,{elevation:0,sx:{border:"1px solid #E5E7EB",borderRadius:"16px"},children:e.jsxs(I,{children:[e.jsxs(p,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",sx:{mb:3,gap:2},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:700,color:"#111827"},children:o("admin.users.all_users")}),e.jsx(_,{value:u,onChange:r=>b(r.target.value),placeholder:o("admin.users.search_placeholder"),size:"small",variant:"outlined",sx:{width:{xs:"100%",sm:250},"& .MuiOutlinedInput-root":{borderRadius:"10px !important","& fieldset":{borderColor:"#E5E7EB",borderRadius:"10px !important"},"&:hover fieldset":{borderColor:"#D1D5DD",borderRadius:"10px !important"},"&.Mui-focused fieldset":{borderColor:"#AD542D",borderRadius:"10px !important"}}},InputProps:{startAdornment:e.jsx(L,{position:"start",children:e.jsx(E,{fontSize:"small",sx:{color:"#9CA3AF"}})})}})]}),e.jsx(k,{sx:{overflowX:"auto",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:e.jsxs($,{sx:{minWidth:800,width:"100%"},children:[e.jsx(O,{children:e.jsxs(d,{sx:{bgcolor:"#F9FAFB"},children:[e.jsx(s,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:o("admin.users.name")}),e.jsx(s,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:o("admin.users.email")}),e.jsx(s,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:o("admin.users.joined")}),e.jsx(s,{sx:{fontWeight:700,color:"#111827",whiteSpace:"nowrap"},children:o("admin.common.actions")})]})}),e.jsx(U,{children:m.length===0?e.jsx(d,{children:e.jsx(s,{colSpan:4,sx:{textAlign:"center",py:4},children:e.jsx(l,{sx:{color:"#6B7280"},children:o("admin.users.no_users_found")})})}):m.map(r=>e.jsxs(d,{sx:{"&:hover":{bgcolor:"#F9FAFB"}},children:[e.jsx(s,{children:e.jsxs(p,{direction:"row",spacing:2,useFlexGap:!0,alignItems:"center",children:[e.jsx(z,{sx:{width:40,height:40,bgcolor:"#AD542D",fontSize:"1rem",fontWeight:600,cursor:"pointer"},onClick:()=>t.visit(`/admin/users/${r.id}`),children:g(r.name)}),e.jsx(l,{sx:{fontWeight:600,color:"#111827",cursor:"pointer","&:hover":{color:"#AD542D"}},onClick:()=>t.visit(`/admin/users/${r.id}`),children:r.name})]})}),e.jsx(s,{sx:{color:"#6B7280"},children:r.email}),e.jsx(s,{sx:{color:"#6B7280"},children:new Date(r.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx(s,{children:e.jsx(W,{onView:()=>t.visit(`/admin/users/${r.id}`),onEdit:()=>t.visit(`/admin/users/${r.id}/edit`),onDelete:()=>C({id:r.id,name:r.name}),viewLabel:o("admin.common.view"),editLabel:o("admin.common.edit")})})]},r.id))})]})})]})})})}),e.jsx(T,{open:j,onClose:w,onConfirm:D,title:o("admin.users.delete_confirm"),itemName:o("admin.users.item_name")})]})}export{me as default};
